"use strict";angular.module("hop",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ui.bootstrap","dachu.widget"]),angular.module("hop").controller("LoginCtrl",["$scope","req","$location","$cookieStore",function(t,e,a,o){t.user={mobile:"",password:""},t.message={text:"",status:""},t.login=function(){if(t.loginForm.$invalid)return t.loginForm.submitted=!0,!1;var a=function(a){return 0!==parseInt(a.status)?(t.error={cls:"alert alert-danger",msg:a.msg},!1):(o.put("type",a.info.type),o.put("id",a.info.id),localStorage.setItem("access",a.access),e.redirect(e.refer),void 0)};e.getdata("user/login","POST",a,t.user)}}]),angular.module("hop").controller("UserListCtrl",["$location","dialog","req","$scope",function(t,e,a,o){o.dateOptions={formatYear:"yy",startingDay:1},o.endDateOptions={formatYear:"yy",startingDay:1},o.endOpened=o.opened=!1,o.open=function(t){t.preventDefault(),t.stopPropagation(),o.opened=!0},o.endOpen=function(t){t.preventDefault(),t.stopPropagation(),o.endOpened=!0};var l=function(){a.getdata("user/role_list","POST",function(t){0==t.status&&(o.role_list=t.role_list)})},s=function(){var t=o.role?o.role.id:0,e={roleId:t,searchValue:o.searchValue,startTime:Date.parse(o.startTime),endTime:Date.parse(o.endTime),currentPage:o.paginationConf.currentPage,itemsPerPage:o.paginationConf.itemsPerPage};a.getdata("user/lists","POST",function(t){0==t.status&&(o.paginationConf.totalItems=t.total,o.list=t.list)},e)};o.paginationConf={currentPage:1,itemsPerPage:15},o.$watch("paginationConf.currentPage + paginationConf.itemsPerPage",s),o.search=function(){s()},o.reset=function(){o.searchValue="",o.startTime="",o.endTime="",s()},o.delete=function(t){e.tips({actionText:"确定",bodyText:"确定删除用户["+o.list[t].name+"]吗?",ok:function(){a.getdata("user/delete","POST",function(t){0==t.status?(e.tips({bodyText:"删除成功！"}),s()):e.tips({bodyText:"删除失败！"+t.msg})},{id:o.list[t].id})}})};var i=function(){var e=t.$$host,a="http://api.dachuwang.com/";0!==e.indexOf("hop.dachuwang.com")&&(a="http://api.dachuwang.net/");var l=a+"hop/user/export_data?1=1";o.role&&(l+="&userType="+o.role.id),o.status&&(l+="&status="+o.status),o.key&&(l+="&key="+o.key),o.startTime&&(l+="&startTime="+Date.parse(o.startTime)),o.endTime&&(l+="&endTime="+Date.parse(o.endTime)),window.open(l)};o.exportData=function(){e.tips({headerText:"导出数据",actionText:"确定",bodyText:"确定导出数据吗?",ok:function(){i()}})},l()}]),angular.module("hop").controller("EditUserCtrl",["$location","dialog","req","$scope","$routeParams",function(t,e,a,o,l){var s=function(){o.id=l.id;var t={id:o.id};a.getdata("hop/user/edit_input","POST",function(t){0==t.status&&(o.data=t.data,o.dept_list=t.dept_list,o.role_list=t.role_list,o.market_list=t.market_list,o.province_list=t.province_list,angular.forEach(o.dept_list,function(e){e.id==t.data.dept_id&&(o.data.dept=e)}),angular.forEach(o.role_list,function(e){e.id==t.data.type&&(o.data.role=e)}),angular.forEach(o.province_list,function(e){e.id==t.data.province_id&&(o.data.province=e)}),angular.forEach(o.market_list,function(e){e.id==t.data.market_id&&(o.data.market=e)}))},t)},i=0;o.get_market=function(t){(t="province")?o.data.province.id<=4?(i=1,a.getdata("market/get_market","POST",function(t){o.market_list=t},{type:"province",id:o.data.province.id})):i=0:i||a.getdata("market/get_market","POST",function(t){o.market_list=t},{type:"city",id:o.data.city.id})},o.edit=function(){if(o.show_error=!0,o.basic_form.$setDirty(),!o.basic_form.$invalid){if(o.data.role&&"30"==o.data.role.id){if(!o.data.phone_type)return void e.tips({bodyText:"请选择手机类型！"});if(!o.data.province)return void e.tips({bodyText:"请选择所在地！"});if(!o.data.market)return void e.tips({bodyText:"请选择批发市场！"});if(!o.data.detail_address)return void e.tips({bodyText:"请输入详细地址！"})}var t=0;o.data.dept&&(t=o.data.dept.id);var l=0;o.data.province&&(l=o.data.province.id);var s=0;o.data.market&&(s=o.data.market.id);var i={id:o.data.id,deptId:t,type:o.data.role.id,name:o.data.name,mobile:o.data.mobile,phoneType:o.data.phone_type,provinceId:l,marketId:s,detailAddress:o.data.detail_address,brand:o.data.brand,inviteid:o.data.inviteid};a.getdata("/hop/user/edit","POST",function(t){0==t.status?(e.tips({bodyText:"修改用户成功！"}),a.redirect("/user/list")):e.tips({bodyText:"修改用户失败。"})},i)}},s()}]),angular.module("hop").controller("UserCreateCtrl",["$location","dialog","req","$scope","$stateParams",function(t,e,a,o){var l=function(){a.getdata("/user/create_input","POST",function(t){0==t.status&&(o.dept_list=t.dept_list,o.role_list=t.role_list,o.province_list=t.province_list)})};o.create=function(){if(o.show_error=!0,o.basic_form.$setDirty(),!o.basic_form.$invalid){var t=0;o.data.dept&&(t=o.data.dept.id);var l=0;o.data.province&&(l=o.data.province.id);var s={deptId:t,roleId:o.data.role.id,name:o.data.name,mobile:o.data.mobile,provinceId:l,address:o.data.detail_address};a.getdata("/user/create","POST",function(t){0==t.status?(e.tips({bodyText:"添加用户成功！"}),a.redirect("/user/list")):e.tips({bodyText:"添加用户失败。"})},s)}},l()}]),angular.module("hop").controller("RoleListCtrl",["$location","dialog","req","$scope",function(t,e,a,o){var l=function(){var t={searchValue:o.searchValue,startTime:Date.parse(o.startTime),endTime:Date.parse(o.endTime),currentPage:o.paginationConf.currentPage,itemsPerPage:o.paginationConf.itemsPerPage};a.getdata("role/lists","POST",function(t){0==t.status&&(o.paginationConf.totalItems=t.total,o.list=t.list)},t)};o.paginationConf={currentPage:1,itemsPerPage:15},o.$watch("paginationConf.currentPage + paginationConf.itemsPerPage",l),o.search=function(){l()},o.reset=function(){o.searchValue="",l()},o.delete=function(t){e.tips({actionText:"确定",bodyText:"确定删除角色["+o.list[t].name+"]吗?",ok:function(){a.getdata("role/delete","POST",function(t){0==t.status?(e.tips({bodyText:"删除成功！"}),l()):e.tips({bodyText:"删除失败！"+t.msg})},{id:o.list[t].id})}})}}]),angular.module("hop").controller("RoleEditCtrl",["$location","dialog","req","$scope","$stateParams",function(t,e,a,o,l){var s=function(){o.id=l.id;var t={id:o.id};a.getdata("role/edit_input","POST",function(t){0==t.status&&(o.list=t.list,o.data=t.info)},t)};o.edit=function(){if(o.show_error=!0,o.basic_form.$setDirty(),!o.basic_form.$invalid){var t=[];angular.forEach(o.list,function(e){e.checked&&t.push(e.id)});var l={id:o.data.id,name:o.data.name,dataset:o.data.dataset,pri_id:t};a.getdata("role/edit","POST",function(t){0==t.status?(e.tips({bodyText:"修改角色成功！"}),a.redirect("/role/list")):e.tips({bodyText:"修改角色失败。"})},l)}},o.toggle=function(t){var e=o.list[t];angular.forEach(o.list,function(t){e.checked?(t.level<e.level&&-1!==e.path.indexOf(t.path)&&(t.checked=!0),t.level>e.level&&-1!==t.path.indexOf(e.path)&&(t.checked=!0)):t.level>e.level&&-1!==t.path.indexOf(e.path)&&(t.checked=!1)})},s()}]),angular.module("hop").controller("RoleCreateCtrl",["$location","dialog","req","$scope",function(t,e,a,o){var l=function(){a.getdata("role/create_input","POST",function(t){0==t.status&&(o.list=t.list)})};o.create=function(){if(o.show_error=!0,o.basic_form.$setDirty(),!o.basic_form.$invalid){var t=[];angular.forEach(o.list,function(e){e.checked&&t.push(e.id)});var l={name:o.data.name,dataset:o.data.dataset,pri_id:t};a.getdata("role/create","POST",function(t){0==t.status?(e.tips({bodyText:"添加角色成功！"}),a.redirect("/role/list")):e.tips({bodyText:"添加角色失败。"})},l)}},o.toggle=function(t){var e=o.list[t];angular.forEach(o.list,function(t){e.checked?(t.level<e.level&&-1!==e.path.indexOf(t.path)&&(t.checked=!0),t.level>e.level&&-1!==t.path.indexOf(e.path)&&(t.checked=!0)):t.level>e.level&&-1!==t.path.indexOf(e.path)&&(t.checked=!1)})},l()}]),angular.module("hop").controller("PropertyEditCtrl",["$scope","req","daChuDialog","daChuLocal","daChuTimer",function(t,e){var a=0;a&&e.getdata("property/prop_single","POST",function(e){e.info.options.length>0&&(t.property_values=[]),t.saveData.id=e.info.id,t.saveData.unit=e.info.unit,t.saveData.name=e.info.name,angular.forEach(t.top_category,function(a){a.id==e.info.top_category.id&&(t.top=a)}),t.getSecond(t.top.id,e.info.second_category.id),t.getroduct(e.info.second_category.id,e.info.self.id),getTypeList(e.info.type),angular.forEach(t.requires,function(a){a.val==e.info.isrequired&&(t.property_required=a)}),angular.forEach(e.info.options,function(e,a){if(0==a){var o={name:"添加",value:e.name,icon:"glyphicon-plus",cls:"btn-info",clk:"add"};t.property_values.push(o)}else t.add(a,e.name)})},{id:a})}]),angular.module("hop").controller("PropertyAddCtrl",["$scope","req","dialog","daChuLocal","daChuTimer",function(t,e,a,o,l){function s(){t.secondCategory=[],t.productCategory=[]}function i(e){t.topCategory=e.top,t.seconds=e.second,t.secondChild=e.second_child}function n(){var t=o.get("cateList"),a=o.get("cateListTime");t&&l.compare(a)?i(t):e.getdata("/category/lists","GET",function(t){-1!=parseInt(t.status)&&t.list.top.length>0&&(o.set("cateList",t.list),o.set("cateListTime",l.getNow()),i(t.list))})}function r(a){e.getdata("property/get_type","GET",function(e){t.properties=e.list,angular.forEach(t.properties,function(e){e.val==a&&(t.propertyShow=e)})})}t.topCategory=[],t.properties=[],t.propertyShow=[],t.propertyType=0,t.top="",t.title="添加规格",t.requires=[{name:"是",val:1},{name:"否",val:0}],t.saveData={input_type:1,category_id:0,name:"",id:0,is_required:0,options:[]},t.initValues={name:"添加",value:"",icon:"glyphicon-plus",cls:"btn-info",clk:"add"},t.propertyValues=[t.initValues],s(),t.getSecond=function(){if(void 0!==t.top){var e=parseInt(t.top.id);t.secondCategory=t.seconds[e]}},t.getProduct=function(){if(void 0!==t.second){var e=parseInt(t.second.id);t.productCategory=t.secondChild[e]}},n(),r(),t.add=function(e,a){void 0==a&&(a="");var o={name:"删除",value:a,icon:"glyphicon-minus",cls:"btn-danger",clk:"remove"};t.propertyValues.push(o)},t.remove=function(e){t.propertyValues.splice(e,1)},t.setProType=function(){t.propertyValues=0==t.propertyShow.val?[]:[t.initValues]},t.createProperty=function(){var o=[];return t.saveData.is_required=t.propertyRequired.val,t.saveData.category_id=void 0==t.products?void 0==t.second?t.top.id:t.second.id:t.product.id,t.saveData.input_type=t.propertyShow.val,angular.forEach(t.propertyValues,function(t){o.push(t.value)}),t.saveData.options=o,t.saveData.name.length?void e.getdata("property/create","POST",function(t){0==t.status&&(s(),a.tips({bodyText:t.msg,close:function(){e.redirect("/property")}}))},t.saveData):!1},t.reback=function(){e.redirect("/user/center")}}]),angular.module("hop").controller("PropertyCtrl",["$scope","req",function(t,e){t.paginationConf={currentPage:1,itemsPerPage:15},t.title="规格列表";var a=function(){var a={currentPage:t.paginationConf.currentPage,itemsPerPage:t.paginationConf.itemsPerPage};e.getdata("property/lists","POST",function(e){t.list=e.list,t.paginationConf.totalItems=e.total},a)};t.$watch("paginationConf.currentPage + paginationConf.itemsPerPage",a)}]),angular.module("hop").controller("ProductManageCtrl",["$scope","req","$cookieStore","daChuDialog","pagination",function(t,e,a,o,l){return t.type=a.get("type"),t.type?(t.userType=a.get("type"),t.pagination=l,t.products=[],l.init(function(a){e.getdata("product/manage","POST",function(e){angular.forEach(e.list,function(e){t.products.push(e)}),a&&a(!e.list.length)},{page:l.page})}),l.page=0,l.nextPage(),t.dialog=o.tips,void(t.setstatus=function(a,o,l){t.products[l].status=o,e.getdata("product/setstatus","POST",function(e){e.status&&t.dialog(1===parseInt(o)?{bodyText:"商品已设置为有货，将在商城展示。"}:{bodyText:"商品已设置为无货，将不在商城展示。"})},{status:o,id:a})})):(e.redirect("/user/login"),!1)}]),angular.module("hop").controller("ProductAddCtrl",["$scope","req","$location","$cookieStore","dialog","daChuLocal","daChuTimer",function(t,e,a,o,l,s,i){function n(e,a){t.topCategory=e.top,t.seconds=e.second,t.secondChild=e.second_child,a&&(angular.forEach(t.topCategory,function(e){parseInt(e.id)===parseInt(a[0])&&(t.init.category_id=e)}),t.init.category_id&&(t.secondCategory=t.seconds[t.init.category_id.id],angular.forEach(t.secondCategory,function(e){parseInt(e.id)===parseInt(a[1])&&(t.init.childid=e)})),t.init.childid&&(t.productCategory=t.secondChild[t.init.childid.id],angular.forEach(t.productCategory,function(e){parseInt(e.id)===parseInt(a[2])&&(t.init.productid=e)})))}function r(t){var a=s.get("cateList"),o=s.get("cateListTime");a&&i.compare(o)?n(a,t):e.getdata("category/lists","GET",function(e){-1!=parseInt(e.status)&&e.list.top.length>0&&(s.set("cateList",e.list),s.set("cateListTime",i.getNow()),n(e.list,t))})}function c(a,o){e.getdata("property/cate_prop_list","POST",function(e){0===parseInt(e.status)&&(t.properties=e.list,o=JSON.parse(o),angular.forEach(t.properties,function(e){angular.forEach(o,function(a){e.name==a.name&&(t.init.spec[e.id]=a.val)})}))},{category_id:a})}t.productsChild=[],t.title="添加商品",t.product={title:"",id:0,price:"",category_id:"",weight:"",description:"",status:0,suttle:0,spec:[]},t.init={category_id:"",weight:"",status:"",childid:"",productid:"",selfProduct:"",spec:[],show:!1},t.status=[{id:1,name:"有货"},{id:0,name:"无货"}];var d=function(a){e.getdata("/product/units","GET",function(e){t.weights=e.list,angular.forEach(t.weights,function(e){e.id==a&&(t.init.weight=e)})})};d();var m=[2,4,5,6,7];t.buttons=[{name:"保存",type:"submit",clk:"add",cls:"btn-success"},{name:"返回",type:"reset",clk:"reback",cls:"btn-default"}];var p=a.$$url.split("/"),u=p.pop(),g=/\d+/;t.categories="",g.test(u)&&(t.title="编辑商品",t.product_cateid=u),t.getSecond=function(){if(void 0!==t.init.category_id){var e=parseInt(t.init.category_id.id);c(e),t.secondCategory=t.seconds[e]}},t.getProduct=function(){if(void 0!==t.init.childid){var e=parseInt(t.init.childid.id);c(e),t.productCategory=t.secondChild[e]}},t.reback=function(){history.go(-1)},t.selectProduct=function(){c(t.init.productid.id)},t.getProductsChild=function(a,o){var l=t.init.productid.id;void 0!=o&&void 0!=a&&(l=a),e.getdata("category/get_category_list","POST",function(e){t.productsChild=e.list,void 0!=o&&void 0!=a&&angular.forEach(t.productsChild,function(e){parseInt(e.id)===parseInt(o)&&(t.init.productidChild=e)})},{upid:l})},g.test(u)?e.getdata("product/edit","POST",function(e){0===parseInt(e.status)&&(r(e.info.path),void 0!=e.info.path[3]&&t.getProductsChild(e.info.path[2],e.info.category_id),c(e.info.path,e.info.spec),d(e.info.unit_id),angular.forEach(t.status,function(a){a.id==e.info.status&&(t.init.status=a)}),t.setWeight(),t.product.title=e.info.title,t.product.id=e.info.id,t.product.category_id=e.info.category_id,t.product.description=e.info.description,t.product.market_price=parseFloat(e.info.market_price),t.product.price=parseFloat(e.info.price),t.product.suttle=parseInt(e.info.suttle),t.button={name:"保存",cls:"btn-success"})},{id:u}):r(),t.setWeight=function(){var e=t.init.weight.id;t.init.show=-1!=m.indexOf(e)?!0:!1},t.prop=[],t.add=function(){var a=t.init.productid;t.init.productidChild&&t.init.productidChild.id&&(a=t.init.productidChild),t.product.category_id=a.id,t.product.weight=t.init.weight.name,t.product.status=t.init.status.id,t.product.selfProduct=t.init.selfProduct;var o=[];angular.forEach(t.init.spec,function(e,a){angular.forEach(t.properties,function(t){parseInt(t.id)==parseInt(a)&&(t.val=e,o.push(t))})}),t.product.spec=o,t.product.suttle=0,e.getdata("/product/save","POST",function(t){0===parseInt(t.status)?(l.tips({bodyText:"保存成功！商品将在商城展示。",close:function(){}}),e.redirect("/product")):l.tips({bodyText:"保存失败，请稍后再试。",close:function(){}})},t.product)}}]),angular.module("hop").controller("ProductCtrl",["$scope","req","dialog","appConfigure",function(t,e,a,o){t.site_url=o.url;var l=function(){var a={currentPage:t.paginationConf.currentPage,itemsPerPage:t.paginationConf.itemsPerPage};e.getdata("/product/manage","POST",function(e){t.products=e.list,t.paginationConf.totalItems=e.total},a)};t.title="商品列表",t.paginationConf={currentPage:1,itemsPerPage:15},t.$watch("paginationConf.currentPage + paginationConf.itemsPerPage",l),t.dialog=a.tips,t.setstatus=function(a,o,l){t.products[l].status=o,e.getdata("product/set_status","POST",function(){t.dialog(1===parseInt(o)?{bodyText:"商品已设置为有货，将在商城展示。"}:{bodyText:"商品已设置为无货，将不在商城展示。"})},{status:o,id:a})}}]),angular.module("hop").controller("PrivilegeListCtrl",["$location","dialog","req","$scope",function(t,e,a,o){var l=function(){var t={searchValue:o.searchValue,currentPage:o.paginationConf.currentPage,itemsPerPage:o.paginationConf.itemsPerPage};a.getdata("privilege/lists","POST",function(t){0==t.status&&(o.paginationConf.totalItems=t.total,o.list=t.list)},t)};o.paginationConf={currentPage:1,itemsPerPage:15},o.$watch("paginationConf.currentPage + paginationConf.itemsPerPage",l),o.search=function(){l()},o.reset=function(){o.searchValue="",l()},o.delete=function(t){e.tips({actionText:"确定",bodyText:"确定删除权限["+o.list[t].name+"]吗?",ok:function(){a.getdata("privilege/delete","POST",function(t){0==t.status?(e.tips({bodyText:"删除成功！"}),l()):e.tips({bodyText:"删除失败！"+t.msg})},{id:o.list[t].id})}})}}]),angular.module("hop").controller("PrivilegeEditCtrl",["$location","dialog","req","$scope","$stateParams",function(t,e,a,o,l){var s=function(){o.id=l.id;var t={id:o.id};a.getdata("privilege/edit_input","POST",function(t){0==t.status&&(o.data=t.info,o.list=t.list,angular.forEach(o.list,function(e){e.id==t.info.parent_id&&(o.data.parent=e)}))},t)};o.edit=function(){if(o.show_error=!0,o.basic_form.$setDirty(),!o.basic_form.$invalid){var t=0;o.data.parent&&(t=o.data.parent.id);var l={id:o.data.id,name:o.data.name,parentId:t,module:o.data.module,resource:o.data.resource,operation:o.data.operation};a.getdata("privilege/edit","POST",function(t){0==t.status?(e.tips({bodyText:"修改权限成功！"}),a.redirect("/privilege/list")):e.tips({bodyText:"修改权限失败。"})},l)}},s()}]),angular.module("hop").controller("PrivilegeCreateCtrl",["$location","dialog","req","$scope",function(t,e,a,o){var l=function(){a.getdata("privilege/create_input","POST",function(t){0==t.status&&(o.list=t.list)})};o.create=function(){if(o.show_error=!0,o.basic_form.$setDirty(),!o.basic_form.$invalid){var t=0;o.data.parent&&(t=o.data.parent.id);var l={name:o.data.name,parentId:t,module:o.data.module,resource:o.data.resource,operation:o.data.operation};a.getdata("privilege/create","POST",function(t){0==t.status?(e.tips({bodyText:"添加权限成功！"}),a.redirect("/privilege/list")):e.tips({bodyText:"添加权限失败。"})},l)}},l()}]),angular.module("hop").controller("OrderListCtrl",["$location","dialog","req","$scope",function(t,e,a,o){o.status="-1";var l=function(){var t={status:o.status,searchValue:o.searchValue,currentPage:o.paginationConf.currentPage,itemsPerPage:o.paginationConf.itemsPerPage};a.getdata("order/lists","POST",function(t){0==t.status&&(o.paginationConf.totalItems=t.total_count,o.list=t.orderlist,o.total=t.total)},t)};o.paginationConf={currentPage:1,itemsPerPage:15},o.$watch("paginationConf.currentPage + paginationConf.itemsPerPage",l),o.search=function(){l()},o.filterByStatus=function(t){o.status=t,l()},o.reset=function(){o.searchValue="",l()},o.delete=function(t){e.tips({actionText:"确定",bodyText:"确定删除订单["+o.list[t].name+"]吗?",ok:function(){a.getdata("order/delete","POST",function(t){0==t.status?(e.tips({bodyText:"删除成功！"}),l()):e.tips({bodyText:"删除失败！"+t.msg})},{id:o.list[t].id})}})}}]),angular.module("hop").controller("OrderSignCtrl",["$location","dialog","req","$scope",function(t,e,a,o){o.status="-1";var l=function(){var t={status:o.status,searchValue:o.searchValue,currentPage:o.paginationConf.currentPage,itemsPerPage:o.paginationConf.itemsPerPage};a.getdata("order/lists_sign","POST",function(t){0==t.status&&(o.paginationConf.totalItems=t.total_count,o.list=t.orderlist,o.total=t.total)},t)};o.paginationConf={currentPage:1,itemsPerPage:15},o.$watch("paginationConf.currentPage + paginationConf.itemsPerPage",l),o.search=function(){l()},o.filterByStatus=function(t){o.status=t,l()},o.reset=function(){o.searchValue="",l()},o.delete=function(t){e.tips({actionText:"确定",bodyText:"确定删除订单["+o.list[t].name+"]吗?",ok:function(){a.getdata("order/delete","POST",function(t){0==t.status?(e.tips({bodyText:"删除成功！"}),l()):e.tips({bodyText:"删除失败！"+t.msg})},{id:o.list[t].id})}})}}]),angular.module("hop").controller("OrderPaymentCtrl",["$location","dialog","req","$scope",function(t,e,a,o){o.status="-1";var l=function(){var t={status:o.status,searchValue:o.searchValue,currentPage:o.paginationConf.currentPage,itemsPerPage:o.paginationConf.itemsPerPage};a.getdata("order/lists_payment","POST",function(t){0==t.status&&(o.paginationConf.totalItems=t.total_count,o.list=t.orderlist,o.total=t.total)},t)};o.paginationConf={currentPage:1,itemsPerPage:15},o.$watch("paginationConf.currentPage + paginationConf.itemsPerPage",l),o.search=function(){l()},o.filterByStatus=function(t){o.status=t,l()},o.reset=function(){o.searchValue="",l()},o.delete=function(t){e.tips({actionText:"确定",bodyText:"确定删除订单["+o.list[t].name+"]吗?",ok:function(){a.getdata("order/delete","POST",function(t){0==t.status?(e.tips({bodyText:"删除成功！"}),l()):e.tips({bodyText:"删除失败！"+t.msg})},{id:o.list[t].id})}})}}]),angular.module("hop").controller("OrderDeliverCtrl",["$location","dialog","req","$scope","appConfigure",function(t,e,a,o,l){o.status="-1";var s=function(){var t={status:o.status,searchValue:o.searchValue,currentPage:o.paginationConf.currentPage,itemsPerPage:o.paginationConf.itemsPerPage};a.getdata("order/lists_deliver","POST",function(t){0==t.status&&(o.paginationConf.totalItems=t.total_count,o.list=t.orderlist,o.total=t.total)},t)};o.paginationConf={currentPage:1,itemsPerPage:15},o.$watch("paginationConf.currentPage + paginationConf.itemsPerPage",s),o.search=function(){s()},o.filterByStatus=function(t){o.status=t,s()},o.reset=function(){o.searchValue="",s()},o.site_url=l.url}]),angular.module("hop").controller("OrderAuditCtrl",["$location","dialog","req","$scope",function(t,e,a,o){o.status="-1";var l=function(){var t={status:o.status,searchValue:o.searchValue,currentPage:o.paginationConf.currentPage,itemsPerPage:o.paginationConf.itemsPerPage};a.getdata("order/lists_audit","POST",function(t){0==t.status&&(o.paginationConf.totalItems=t.total_count,o.list=t.orderlist,o.total=t.total)},t)};o.paginationConf={currentPage:1,itemsPerPage:15},o.$watch("paginationConf.currentPage + paginationConf.itemsPerPage",l),o.search=function(){l()},o.filterByStatus=function(t){o.status=t,l()},o.reset=function(){o.searchValue="",l()},o.delete=function(t){e.tips({actionText:"确定",bodyText:"确定删除订单["+o.list[t].name+"]吗?",ok:function(){a.getdata("order/delete","POST",function(t){0==t.status?(e.tips({bodyText:"删除成功！"}),l()):e.tips({bodyText:"删除失败！"+t.msg})},{id:o.list[t].id})}})}}]),angular.module("hop").controller("OrderDetailCtrl",["dialog","$location","req","$scope","$modal","$window","$cookieStore","$stateParams",function(t,e,a,o,l,s,i,n){o.data="",o.order_number=n.order_number;var r=function(){a.getdata("order/info","POST",function(t){0==t.status&&(o.data=t.info)},{order_number:o.order_number})};r(),o.back=function(){history.go(-1)},o.dialog=t.tips,o.setStatus=function(t,e){var l={order_id:t,status:e};o.dialog({bodyText:"确定修改此订单状态吗？",ok:function(){a.getdata("order/set_status","POST",function(){r()},l)},actionText:"确定",closeText:"取消"})}}]),angular.module("hop").controller("HomeAchieveCtrl",["dialog","req","$scope","$modal","$window","$cookieStore","HopAuth",function(t,e,a){a.data="",e.getdata("hop/summary/index","GET",function(t){0==t.status&&(a.data=t.data)})}]),angular.module("hop").controller("HomeCtrl",["$scope",function(t){t.awesomeThings=[{title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png"},{title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png"},{title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png"},{title:"Jasmine",url:"http://jasmine.github.io/",description:"Behavior-Driven JavaScript.",logo:"jasmine.png"},{title:"Karma",url:"http://karma-runner.github.io/",description:"Spectacular Test Runner for JavaScript.",logo:"karma.png"},{title:"Protractor",url:"https://github.com/angular/protractor",description:"End to end test framework for AngularJS applications built on top of WebDriverJS.",logo:"protractor.png"},{title:"Bootstrap",url:"http://getbootstrap.com/",description:"Bootstrap is the most popular HTML, CSS, and JS framework for developing responsive, mobile first projects on the web.",logo:"bootstrap.png"},{title:"Angular UI Bootstrap",url:"http://angular-ui.github.io/bootstrap/",description:"Bootstrap components written in pure AngularJS by the AngularUI Team.",logo:"ui-bootstrap.png"},{title:"Stylus",url:"http://learnboost.github.io/stylus/",description:"Stylus is a revolutionary new language, providing an efficient, dynamic, and expressive way to generate CSS. Supporting both an indented syntax and regular CSS style.",logo:"stylus.png"}],angular.forEach(t.awesomeThings,function(t){t.rank=Math.random()})}]),angular.module("hop").controller("DepartmentListCtrl",["$location","dialog","req","$scope",function(t,e,a,o){var l=function(){var t={searchValue:o.searchValue,currentPage:o.paginationConf.currentPage,itemsPerPage:o.paginationConf.itemsPerPage};a.getdata("department/lists","POST",function(t){0==t.status&&(o.paginationConf.totalItems=t.total,o.list=t.list)},t)};o.paginationConf={currentPage:1,itemsPerPage:15},o.$watch("paginationConf.currentPage + paginationConf.itemsPerPage",l),o.search=function(){l()},o.reset=function(){o.searchValue="",l()},o.delete=function(t){e.tips({actionText:"确定",bodyText:"确定删除部门["+o.list[t].name+"]吗?",ok:function(){a.getdata("department/delete","POST",function(t){0==t.status?(e.tips({bodyText:"删除成功！"}),l()):e.tips({bodyText:"删除失败！"+t.msg})},{id:o.list[t].id})}})}}]),angular.module("hop").controller("DepartmentEditCtrl",["$location","dialog","req","$scope","$stateParams",function(t,e,a,o,l){var s=function(){o.id=l.id;var t={id:o.id};a.getdata("department/edit_input","POST",function(t){0==t.status&&(o.data=t.info,o.list=t.list,angular.forEach(o.list,function(e){e.id==t.info.parent_id&&(o.data.parent=e)}))},t)};o.edit=function(){if(o.show_error=!0,o.basic_form.$setDirty(),!o.basic_form.$invalid){var t=0;o.data.parent&&(t=o.data.parent.id);var l={id:o.data.id,name:o.data.name,parentId:t,description:o.data.description};a.getdata("department/edit","POST",function(t){0==t.status?(e.tips({bodyText:"修改部门成功！"}),a.redirect("/department/list")):e.tips({bodyText:"修改部门失败。"})},l)}},s()}]),angular.module("hop").controller("DepartmentCreateCtrl",["$location","dialog","req","$scope",function(t,e,a,o){o.addr={province:""};var l=function(){a.getdata("department/create_input","POST",function(t){0==t.status&&(o.departments=t.list)})};o.create=function(){if(o.show_error=!0,o.basic_form.$setDirty(),!o.basic_form.$invalid){var t=0;o.data.parent&&(t=o.data.parent.id);var l={name:o.data.dept_name,parentId:t,description:o.data.description};a.getdata("department/create","POST",function(t){0==t.status?(e.tips({bodyText:"添加部门成功！"}),a.redirect("/department/list")):e.tips({bodyText:"添加部门失败。"})},l)}},l()}]),angular.module("hop").controller("CustomerListCtrl",["$location","dialog","req","$scope",function(t,e,a,o){t.path();o.status="all",o.dateOptions={formatYear:"yy",startingDay:1},o.endDateOptions={formatYear:"yy",startingDay:1},o.endOpened=o.opened=!1,o.open=function(t){t.preventDefault(),t.stopPropagation(),o.opened=!0},o.endOpen=function(t){t.preventDefault(),t.stopPropagation(),o.endOpened=!0};var l=function(){var t={status:o.status,key:o.key,startTime:Date.parse(o.startTime),endTime:Date.parse(o.endTime),currentPage:o.paginationConf.currentPage,itemsPerPage:o.paginationConf.itemsPerPage};a.getdata("customer/lists","POST",function(t){0==t.status&&(o.paginationConf.totalItems=t.total,o.list=t.list)},t)};o.paginationConf={currentPage:1,itemsPerPage:15},o.$watch("paginationConf.currentPage + paginationConf.itemsPerPage",l),o.search=function(){l()},o.filterByStatus=function(t){o.status=t,l()},o.setStatus=function(t,l){var s="禁用";1==l&&(s="启用"),e.tips({actionText:"确定",bodyText:"确定"+s+"["+o.list[t].name+"]账号吗?",ok:function(){a.getdata("customer/toggle_status","POST",function(e){0==e.status?(alert("操作成功！"),o.list[t].status=l):alert("操作失败！")},{uid:o.list[t].id,status:l})}})},o.resetPassword=function(t){e.tips({actionText:"确定",bodyText:"确定重置密码吗?",ok:function(){a.getdata("customer/reset_password","POST",function(t){e.tips(0==t.status?{bodyText:"密码重置成功！"}:{bodyText:"密码重置失败！"})},{uid:o.list[t].id})}})},o.reset=function(){o.startTime="",o.endTime="",o.key="",l()};var s=function(){var e=t.$$host,a="http://api.dachuwang.com/";0!==e.indexOf("hop.dachuwang.com")&&(a="http://api.dachuwang.net/");var l=a+"hop/user/export_data?userType="+o.userType;o.status&&(l+="&status="+o.status),o.key&&(l+="&key="+o.key),o.startTime&&(l+="&startTime="+Date.parse(o.startTime)),o.endTime&&(l+="&endTime="+Date.parse(o.endTime)),window.open(l)};o.exportData=function(){e.tips({headerText:"导出数据",actionText:"确定",bodyText:"确定导出数据吗?",ok:function(){s()}})}}]),angular.module("hop").controller("CustomerEditCtrl",["$location","dialog","req","$scope","$stateParams",function(t,e,a,o,l){o.addr={province:""};var s=function(){var t={id:l.id};a.getdata("customer/edit_input","POST",function(t){0==t.status&&(o.info=t.info,o.provinces=t.province_list,angular.forEach(o.provinces,function(e){e.id==t.info.province_id&&(o.addr.province=e)}))},t)};o.get_child=function(){},o.edit=function(){var t={id:l.id,name:o.info.name,mobile:o.info.mobile,provinceId:o.addr.province.id,address:o.info.address,shop_name:o.info.shop_name,remark:o.info.remark};a.getdata("customer/edit","POST",function(t){0==t.status?(e.tips({bodyText:"更新客户资料成功！"}),a.redirect("/customer/list")):e.tips({bodyText:"更新客户资料失败。"})},t)},s()}]),angular.module("hop").controller("CustomerCreateCtrl",["$location","dialog","req","$scope",function(t,e,a,o){o.addr={province:""};var l=function(){var t={};a.getdata("customer/create_input","POST",function(t){0==t.status&&(o.info=t.info,o.provinces=t.province_list)},t)};o.get_child=function(){},o.create=function(){var t={id:o.id,name:o.info.name,mobile:o.info.mobile,provinceId:o.addr.province.id,address:o.info.address,shopName:o.info.shop_name,remark:o.info.remark};a.getdata("customer/create","POST",function(t){0==t.status?(e.tips({bodyText:"添加客户资料成功！"}),a.redirect("/customer/list")):e.tips({bodyText:"添加客户资料失败。"})},t)},l()}]),angular.module("hop").controller("CategoryEditCtrl",["$scope","req","$cookieStore","dialog","daChuLocal","$stateParams",function(t,e,a,o,l,s){function i(e){t.ups=e.top,t.second=e.second,t.secondChild=e.second_child,t.init.path.length>1&&(angular.forEach(t.ups,function(e){parseInt(e.id)===parseInt(t.init.path[0])&&(t.category=e)}),t.init.path.length>2&&void 0!==t.init.path[1]&&(t.childCates=t.second[t.category.id],angular.forEach(t.childCates,function(e){parseInt(e.id)===parseInt(t.init.path[1])&&(t.childCate=e)})),t.init.path.length>3&&void 0!==t.init.path[2]&&(t.thirdCates=t.secondChild[t.childCate.id],angular.forEach(t.thirdCates,function(e){parseInt(e.id)===parseInt(t.init.path[2])&&(t.thirdCate=e)})))}t.title="编辑分类",t.cateInfo={name:"",upid:0,edit_id:0,weight:0},t.init={path:[]},t.categoryInit=function(){e.getdata("category/lists","GET",function(t){i(t.list)})},t.getChild=function(){if(void 0!=t.category){var e=t.category.id;t.childCates=t.second[e]}},t.getThird=function(){if(void 0!=t.childCate){var e=t.childCate.id;t.thirdCates=t.secondChild[e]}t.thirdCate=void 0},e.getdata("/category/get_info","POST",function(e){if(-1!==parseInt(e.status)){t.cateInfo.name=e.info.name,t.cateInfo.weight=parseInt(e.info.weight),t.cateInfo.upid=e.info.upid,t.path=e.info.path,t.cateInfo.edit_id=s.id;var a=t.path.split(".");a.pop(),a.shift(),t.init.path=a,t.categoryInit()}},{id:s.id}),t.reback=function(){e.redirect("/category")},t.cateAdd=function(){void 0!=t.category&&(t.cateInfo.upid=t.category.id),void 0!=t.childCate&&(t.cateInfo.upid=t.childCate.id),void 0!=t.thirdCate&&(t.cateInfo.upid=t.thirdCate.id),e.getdata("category/update_category","POST",function(e){-1!==parseInt(e.status)?(o.tips({bodyText:e.msg}),t.reback()):o.tips({bodyText:e.msg})
},t.cateInfo)}}]),angular.module("hop").controller("CategoryAddCtrl",["$scope","req","$cookieStore","dialog",function(t,e,a,o){function l(e){t.ups=e.top,t.second=e.second,t.secondChild=e.second_child}t.cateInfo={name:"",upid:0,id:0,weight:0},t.title="添加分类",t.categoryInit=function(){e.getdata("category/lists","GET",function(t){l(t.list)})},t.categoryInit(),t.getChild=function(){if(t.childCates=[],t.thirdCates=[],void 0!=t.category){var e=t.category.id;void 0!==t.second[e]&&(t.childCates=t.second[e])}},t.getThird=function(){if(t.thirdCates=[],void 0!=t.childCate){var e=t.childCate.id;void 0!==t.secondChild&&(t.thirdCates=t.secondChild[e])}},t.cateAdd=function(){void 0!=t.category&&(t.cateInfo.upid=t.category.id),void 0!=t.childCate&&(t.cateInfo.upid=t.childCate.id),void 0!=t.thirdCate&&(t.cateInfo.upid=t.thirdCate.id),e.getdata("category/save","POST",function(e){-1!==parseInt(e.status)?(o.tips({bodyText:"添加分类成功"}),t.reback()):o.tips({bodyText:e.msg})},t.cateInfo)},t.reback=function(){e.redirect("/category")}}]),angular.module("hop").controller("CategoryCtrl",["$scope","dialog","req","daChuLocal","appConfigure",function(t,e,a,o,l){function s(){t.list=[],a.getdata("category/get_category_list","POST",function(e){angular.forEach(e.list,function(e){t.list.push(e)}),t.reBackbtn=!1})}function i(e){a.getdata("category/get_category_list","POST",function(e){0===e.status&&e.list.length>0?(t.list=[],angular.forEach(e.list,function(e){t.list.push(e)}),t.showRebackbtn=!0):alert("没有下级节点了")},{upid:e})}t.title="分类列表",t.upId=0,t.site_url=l.url,s(),t.edit=function(e){a.redirect("/category/edit/"+t.list[e].id)},o.set("his_path",[]),t.getChild=function(e){var a=t.list[e].id,l=o.get("his_path");l.push(t.list[e].id),o.set("his_path",l),i(a)},t.getParent=function(){var t=o.get("his_path");t.length>=1&&(t.pop(),o.set("his_path",t));var e=t.length>=1?t[t.length-1]:0;i(e)},t.reback=function(){var e=o.get("cateListLastId"),a=e.split("_");if(a.length>2){a.pop();var l=a.pop();i(l)}else t.showRebackbtn=!1,s()},t.setStatus=function(o,l){var s=t.list[o].id;e.tips(0===parseInt(l)?{headerText:"请谨慎操作",bodyText:"确定要禁用"+t.list[o].name+"?",actionText:"确定",ok:function(){a.getdata("category/del","POST",function(a){0===parseInt(a.status)?(t.list[o].status=0,e.tips({bodyText:a.msg})):e.tips({bodyText:"禁用失败，请联系管理人员"})},{id:s})}}:{headerText:"启用被禁用的分类",bodyText:"确定要启用"+t.list[o].name+"?",actionText:"确定",ok:function(){a.getdata("category/reuse","POST",function(a){0===parseInt(a.status)?(t.list[o].status=1,e.tips({bodyText:a.msg})):e.tips({bodyText:"启用失败，请联系管理员"})},{id:s})}})},t.back=function(){a.redirect("/category")},t.paginationConf={currentPage:1,itemsPerPage:15},t.$watch("paginationConf.currentPage + paginationConf.itemsPerPage",function(){})}]),angular.module("hop").controller("TopCtrl",["$scope","$cookieStore","$location","HopAuth",function(t,e,a,o){if(t.currentUrl=a.$$url.split("_")[0],t.status={isopen:!1},o.auth(),t.isLogin=o.isLogin,t.title="大厨网运营支撑平台",t.isLogin){var l=e.get("type");100===parseInt(l)?t.userInfo="超级管理员":10==parseInt(l)&&(t.userInfo="运营"),t.toggleDropdown=function(e){e.preventDefault(),e.stopPropagation(),t.status.isopen=!t.status.isopen},t.logout=function(){o.logout()},t.changePwd=function(){o.pwd()}}else a.path("/login")}]),angular.module("hop").controller("SidebarCtrl",["$scope","$location","$cookieStore",function(t,e){t.currentUrl=e.$$url.split("_")[0];var a={name:"组织权限管理",val:[{name:"部门列表",val:"home.department"},{name:"用户列表",val:"home.user"}]},o={name:"客户管理",val:[{name:"客户列表",val:"home.customer"}]},l={name:"分类管理",val:[{name:"分类列表",val:"home.category"}]},s={name:"商品管理",val:[{name:"商品列表",val:"home.product"}]},i={name:"规格管理",val:[{name:"规格列表",val:"home.property"}]},n={name:"订单管理",val:[{name:"待审核订单",val:"home.orderAudit"},{name:"待出库订单",val:"home.orderDeliver"},{name:"待签收订单",val:"home.orderSign"},{name:"待回款订单",val:"home.orderPayment"},{name:"订单列表",val:"home.order"}]};t.urls=[],t.urls=[n,l,i,s,o,a]}]),angular.module("hop").controller("NavbarCtrl",["$scope","$cookieStore","$location",function(t,e,a){t.currentUrl=a.$$url.split("_")[0],t.status={isopen:!1},t.title="大厨网运营支撑平台"}]),angular.module("hop").factory("daChuTimer",function(){var t={getNow:function(){return parseInt((new Date).getTime()/1e3)},cacheTime:30};return{getNow:t.getNow,setCacheTime:function(e){t.cacheTime=parseInt(e)},compare:function(e){var a=this.getNow();return parseInt(e)+t.cacheTime>a?!0:!1}}}),angular.module("hop").factory("req",["$http","$location","$cookieStore","appConfigure",function(t,e,a,o){var l=(e.$$host,o.url);return{getdata:function(e,o,s,i){void 0==o&&(o="POST");var n=this;t({url:l+"/"+e+"?r="+Math.random(),method:o,cache:!1,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:i}).success(function(t){t&&-100===t.status&&(a.remove("id"),a.remove("type"),n.redirect("/user/login")),s(t)})},init:e,refer:"/",redirect:function(t,a){void 0!=a?this.refer=a:""==t&&e.path(this.refer),e.path(t)}}}]),angular.module("hop").factory("pagination",function(){var t={page:1,isProcessing:!1,processingText:"努力加载中...",isDone:!1,more:"点击加载更多",callback:null};return t.nextPage=function(){t.isProcessing||t.isDone||(t.more="正在加载更多...",t.isProcessing=!0,t.page++,t.callback&&t.callback(function(e){e?(t.isDone=!0,t.more="没有更多了"):t.more="点击加载更多",t.isProcessing=!1}))},t.init=function(e){t.page=1,t.isProcessing=!1,t.isDone=!1,t.more="点击加载更多",t.callback=e},t}),angular.module("hop").factory("daChuLocal",function(){var t={get:function(t){return JSON.parse(localStorage.getItem(t))},set:function(t,e){localStorage.setItem(t,JSON.stringify(e))}};return t}),angular.module("hop").factory("dialog",["$modal",function(t){var e=function(e,a){var o={headerText:"提示信息",bodyText:"设置成功",closeText:"关闭"},l={templateUrl:"myModalContent.html"};angular.extend(l,a),angular.extend(o,e);t.open({templateUrl:l.templateUrl,controller:"ModalInstanceCtrl",resolve:{items:function(){return o}}})};return{tips:e}}]).controller("ModalInstanceCtrl",["$scope","$modalInstance","items",function(t,e,a){t.items=a,t.selected={item:t.items[0]},t.ok=function(){e.close(t.selected.item)},t.cancel=function(){e.dismiss("cancel")}}]),angular.module("hop").factory("HopPermit",["req",function(){var t=[100,10,11,12],e={menus:{},checkType:function(e){return-1!==t.indexOf(e)?!0:!1}};return{getPermit:function(t){return e.checkType(t)?!0:!1}}}]).factory("HopAuth",["HopPermit","$cookieStore","req","dialog",function(t,e,a,o){var l={isLogin:!1,getAuth:function(){var a=parseInt(e.get("type"));return t.getPermit(a)?(this.isLogin=!0,!0):(this.isLogin=!1,!1)},changePwd:function(t){var l=this;l.isLogin&&o.tips({headerText:"修改密码",actionText:"修改密码",ok:function(s){return s.newRePassword!=s.newPassword?!1:(angular.isDefined(t)||(t=e.get("id")),a.getdata("user/update_password","POST",function(t){0===parseInt(t.status)?(o.tips({bodyText:t.msg}),l.isLogin=!1,e.remove("type"),e.remove("id"),a.redirect("/user/login")):o.tips({bodyText:t.msg})},s),!1)}},{templateUrl:"password.html"})}};return{isLogin:l.isLogin,auth:l.getAuth,info:{id:e.get("id"),type:e.get("type")},logout:function(){a.getdata("user/logout","GET",function(){e.remove("type"),e.remove("id"),a.redirect("/login")})},pwd:l.changePwd}}]),angular.module("dachu.widget",[]).directive("dachuPagination",[function(){return{restrict:"EA",template:'<div class="page-list"><ul class="pagination" ng-show="conf.totalItems > 0"><li ng-class="{disabled: conf.currentPage == 1}" ng-click="prevPage()"><span>&laquo;</span></li><li ng-repeat="item in pageList track by $index" ng-class="{active: item == conf.currentPage, separate: item == \'...\'}" ng-click="changeCurrentPage(item)"><span>{{ item }}</span></li><li ng-class="{disabled: conf.currentPage == conf.numberOfPages}" ng-click="nextPage()"><span>&raquo;</span></li></ul><div class="page-total" ng-show="conf.totalItems > 0">第<input type="text" ng-model="jumpPageNum"  ng-keyup="jumpToPage($event)"/>页 每页<select ng-model="conf.itemsPerPage" ng-options="option for option in conf.perPageOptions " ng-change="changeItemsPerPage()"></select>/共<strong>{{ conf.totalItems }}</strong>条</div><div class="no-items" ng-show="conf.totalItems <= 0">暂无数据</div></div>',replace:!0,scope:{conf:"="},link:function(t){function e(){t.conf.currentPage=parseInt(t.conf.currentPage)?parseInt(t.conf.currentPage):1,t.conf.totalItems=parseInt(t.conf.totalItems),t.conf.rememberPerPage?(parseInt(localStorage[t.conf.rememberPerPage])||(localStorage[t.conf.rememberPerPage]=parseInt(t.conf.itemsPerPage)?parseInt(t.conf.itemsPerPage):15),t.conf.itemsPerPage=parseInt(localStorage[t.conf.rememberPerPage])):t.conf.itemsPerPage=parseInt(t.conf.itemsPerPage)?parseInt(t.conf.itemsPerPage):15,t.conf.numberOfPages=Math.ceil(t.conf.totalItems/t.conf.itemsPerPage),t.conf.currentPage<1&&(t.conf.currentPage=1),t.conf.currentPage>t.conf.numberOfPages&&(t.conf.currentPage=t.conf.numberOfPages),t.jumpPageNum=t.conf.currentPage;for(var e,a=t.conf.perPageOptions.length,o=0;a>o;o++)parseInt(t.conf.perPageOptions[o])==parseInt(t.conf.itemsPerPage)&&(e=!0);if(e||t.conf.perPageOptions.push(t.conf.itemsPerPage),t.conf.perPageOptions.sort(function(t,e){return t-e}),t.pageList=[],t.conf.numberOfPages<=t.conf.pagesLength)for(o=1;o<=t.conf.numberOfPages;o++)t.pageList.push(o);else{var l=(t.conf.pagesLength-1)/2;if(t.conf.currentPage<=l){for(o=1;l+1>=o;o++)t.pageList.push(o);t.pageList.push("..."),t.pageList.push(t.conf.numberOfPages)}else if(t.conf.currentPage>t.conf.numberOfPages-l){for(t.pageList.push(1),t.pageList.push("..."),o=l+1;o>=1;o--)t.pageList.push(t.conf.numberOfPages-o);t.pageList.push(t.conf.numberOfPages)}else{for(t.pageList.push(1),t.pageList.push("..."),o=Math.ceil(l/2);o>=1;o--)t.pageList.push(t.conf.currentPage-o);for(t.pageList.push(t.conf.currentPage),o=1;l/2>=o;o++)t.pageList.push(t.conf.currentPage+o);t.pageList.push("..."),t.pageList.push(t.conf.numberOfPages)}}t.conf.onChange&&t.conf.onChange(),t.$parent.conf=t.conf}t.changeCurrentPage=function(e){"..."!==e&&(t.conf.currentPage=e)},t.conf.pagesLength=parseInt(t.conf.pagesLength)?parseInt(t.conf.pagesLength):9,t.conf.pagesLength%2===0&&(t.conf.pagesLength=t.conf.pagesLength-1),t.conf.perPageOptions||(t.conf.perPageOptions=[10,15,20,30,50]),t.prevPage=function(){t.conf.currentPage>1&&(t.conf.currentPage-=1)},t.nextPage=function(){t.conf.currentPage<t.conf.numberOfPages&&(t.conf.currentPage+=1)},t.jumpToPage=function(){t.jumpPageNum=t.jumpPageNum.replace(/[^0-9]/g,""),""!==t.jumpPageNum&&(t.conf.currentPage=t.jumpPageNum)},t.changeItemsPerPage=function(){t.conf.rememberPerPage&&localStorage.removeItem(t.conf.rememberPerPage)},t.$watch(function(){var e=t.conf.currentPage+" "+t.conf.totalItems+" ";return e+=t.conf.rememberPerPage&&localStorage[t.conf.rememberPerPage]?localStorage[t.conf.rememberPerPage]:t.conf.itemsPerPage},e)}}}]),angular.module("hop").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e,a){var o="app/modules";t.state("home",{url:"/",templateUrl:o+"/home/home.html",controller:"HomeCtrl"}).state("home.department",{url:"department/list",templateUrl:o+"/department/list.html",controller:"DepartmentListCtrl"}).state("home.departmentCreate",{url:"department/create",templateUrl:o+"/department/create.html",controller:"DepartmentCreateCtrl"}).state("home.departmentEdit",{url:"department/edit/{id:[0-9]{1,}}",templateUrl:o+"/department/edit.html",controller:"DepartmentEditCtrl"}).state("home.user",{url:"user/list",templateUrl:o+"/user/list.html",controller:"UserListCtrl"}).state("home.userCreate",{url:"user/create",templateUrl:o+"/user/create.html",controller:"UserCreateCtrl"}).state("home.role",{url:"role/list",templateUrl:o+"/role/list.html",controller:"RoleListCtrl"}).state("home.roleCreate",{url:"role/create",templateUrl:o+"/role/create.html",controller:"RoleCreateCtrl"}).state("home.roleEdit",{url:"role/edit/{id:[0-9]{1,}}",templateUrl:o+"/role/edit.html",controller:"RoleEditCtrl"}).state("home.privilege",{url:"privilege/list",templateUrl:o+"/privilege/list.html",controller:"PrivilegeListCtrl"}).state("home.privilegeCreate",{url:"privilege/create",templateUrl:o+"/privilege/create.html",controller:"PrivilegeCreateCtrl"}).state("home.privilegeEdit",{url:"privilege/edit/{id:[0-9]{1,}}",templateUrl:o+"/privilege/edit.html",controller:"PrivilegeEditCtrl"}).state("home.customer",{url:"customer/list",templateUrl:o+"/customer/list.html",controller:"CustomerListCtrl"}).state("home.customerCreate",{url:"customer/create",templateUrl:o+"/customer/create.html",controller:"CustomerCreateCtrl"}).state("home.customerEdit",{url:"customer/edit/{id:[0-9]{1,}}",templateUrl:o+"/customer/edit.html",controller:"CustomerEditCtrl"}).state("home.propertyEdit",{url:"property/{id:[0-9]{1,}}",templateUrl:o+"/property/add.html",controller:"PropertyEditCtrl"}).state("home.propertyAdd",{url:"property/add",templateUrl:o+"/property/add.html",controller:"PropertyAddCtrl"}).state("home.categoryEdit",{url:"category/{id:[0-9]{1,}}",templateUrl:o+"/category/add.html",controller:"CategoryEditCtrl"}).state("home.category",{url:"category",templateUrl:o+"/category/list.html",controller:"CategoryCtrl"}).state("home.categoryAdd",{url:"category/add",templateUrl:o+"/category/add.html",controller:"CategoryAddCtrl"}).state("home.property",{url:"property",templateUrl:o+"/property/list.html",controller:"PropertyCtrl"}).state("home.product",{url:"product",templateUrl:o+"/product/list.html",controller:"ProductCtrl"}).state("home.productAdd",{url:"product/add",templateUrl:o+"/product/add.html",controller:"ProductAddCtrl"}).state("home.productEdit",{url:"product/{productId:[0-9]{1,}}",templateUrl:o+"/product/add.html",controller:"ProductAddCtrl"}).state("login",{url:"/login",templateUrl:o+"/user/login.html",controller:"LoginCtrl"}).state("home.order",{url:"order/list",templateUrl:o+"/order/list.html",controller:"OrderListCtrl"}).state("home.orderAudit",{url:"order/listAudit",templateUrl:o+"/order/listAudit.html",controller:"OrderAuditCtrl"}).state("home.orderDeliver",{url:"order/listDeliver",templateUrl:o+"/order/listDeliver.html",controller:"OrderDeliverCtrl"}).state("home.orderSign",{url:"order/listSign",templateUrl:o+"/order/listSign.html",controller:"OrderSignCtrl"}).state("home.orderPayment",{url:"order/listPayment",templateUrl:o+"/order/listPayment.html",controller:"OrderPaymentCtrl"}).state("home.orderDetail",{url:"order/detail/{order_number:[0-9]{1,}}",templateUrl:o+"/order/detail.html",controller:"OrderDetailCtrl"}),e.otherwise("/"),a.html5Mode(!0)}]),angular.module("hop").provider("appConfigure",{$get:["$location",function(t){var e="",a=t.$$host,o="http://api.hop.dachuwang.com",l="http://api.hop.test.dachuwang.com",s="http://api.hop.dachuwang.net";return e=0!==a.indexOf("hop.dachuwang.com")?0===a.indexOf("hop.test.dachuwang.com")?l:s:o,{url:e}}]}),angular.module("hop").run(["$templateCache",function(t){t.put("components/navbar/navbar.html",'<nav class="navbar navbar-inverse navbar-fixed-top" ng-controller="TopCtrl"><script type="text/ng-template" id="myModalContent.html"><div class="modal-header"> <h3 class="modal-title">{{items.headerText}}</h3> </div> <div class="modal-body"> <h2>{{items.bodyText}}</h2> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="items.ok();cancel();" ng-if="items.actionText"> {{items.actionText}} </button> <button class="btn btn-warning" ng-click="cancel()">{{items.closeText}}</button> </div></script><script type="text/ng-template" id="password.html"><div class="modal-header"> <h3 class="modal-title">{{items.headerText}}</h3> </div> <div class="modal-body"> <form class="row block block-col form-horizontal" role="form" name="passwordForm"> <div class="form-group col-xs-12"> <label for="password" class="col-sm-2 control-label"> <h5> <b>旧密码</b> </h5> </label> <div class="col-sm-10"> <input type="password" required class="input-lg form-control" ng-model="reg.password" id="password" placeholder="请输入您的旧密码" ng-minlength="6" name="oldpassword"> <div class="col-xs-12 block-col label label-danger" ng-show="passwordForm.oldpassword.$dirty && passwordForm.oldpassword.$invalid"> <small ng-show="passwordForm.oldpassword.$error.minlength">旧密码至少6位</small> <small ng-show="passwordForm.oldpassword.$error.required">旧密码必填</small> </div> </div> </div> <div class="form-group col-xs-12"> <label for="newpassword" class="col-sm-2 control-label"> <h5> <b>新密码</b> </h5> </label> <div class="col-sm-10"> <input type="password" required class="input-lg form-control" ng-model="reg.newPassword" id="newPassword" placeholder="请输入您的新密码" ng-minlength="6" name="password"> <div class="col-xs-12 block-col label label-danger" ng-show="passwordForm.password.$dirty && passwordForm.password.$invalid"> <small ng-show="passwordForm.password.$error.minlength">密码至少6位</small> <small ng-show="passwordForm.password.$error.required">密码必填</small> </div> </div> </div> <div class="form-group col-xs-12"> <label for="newpassword" class="col-sm-2 control-label"> <h5> <b>输入新密码</b> </h5> </label> <div class="col-sm-10"> <input type="password" required class="input-lg form-control" ng-model="reg.newRePassword" id="newRePassword" ng-minlength="6" placeholder="请再次输入您的新密码" name="repassword"> <div class="col-xs-12 block-col label label-danger" ng-show="passwordForm.repassword.$dirty && passwordForm.repassword.$invalid"> <small ng-show="passwordForm.repassword.$error.minlength">确认密码至少6位</small> <small ng-show="passwordForm.repassword.$error.required">确认密码必填</small> </div> <div class="col-xs-12 block-col label label-danger" ng-show="passwordForm.repassword.$dirty && passwordForm.repassword.$valid && reg.newRePassword != reg.newPassword"> <small>两次密码不一致</small> </div> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="items.ok(reg);cancel()" ng-if="items.actionText"> {{items.actionText}} </button> <button class="btn btn-warning" ng-click="cancel()">{{items.closeText}}</button> </div></script><div class="container-fluid" ng-controller="NavbarCtrl"><div class="navbar-header" style="width:100%;"><a style="padding-right:0;" href="javascript:history.back()" class="glyphicon navbar-brand glyphicon-chevron-left"></a> <a href="/" class="navbar-brand">{{title}}</a><div ng-if="isLogin"><ul class="nav navbar-nav navbar-right"><li class="dropdown" dropdown=""><a href="/" class="dropdown-toggle" dropdown-toggle="">{{userInfo}}<span class="caret"></span></a><ul class="dropdown-menu"><li ng-click="changePwd()"><a href="#">修改密码</a></li><li ng-click="logout()"><a href="#">登出</a></li><div class="mobile_menu" ng-controller="SidebarCtrl"><ul ng-repeat="url in urls"><li ng-repeat="item in url.val"><a ng-href="{{item.val}}" ng-class="{\'active\': item.val==currentUrl}" class="nav-li-child">{{item.name}}</a></li></ul></div></ul></li></ul></div></div></div></nav><div class="nav-mt"></div>'),t.put("components/navbar/navsidebar.html",'<div class="col-xs-2 sidebar" ng-controller="SidebarCtrl"><ul class="nav nav-sidebar"><li role="presentation"><a ng-href="/" ng-class="{\'active\': currentUrl==\'/\'}" class="nav-li">首页</a></li></ul><ul class="nav nav-sidebar" ng-repeat="url in urls"><li><h4 class="nav-li">{{url.name}}</h4></li><li ng-repeat="item in url.val"><a ui-sref="{{item.val}}" ng-class="{\'active\': item.val==currentUrl}" class="nav-li-child">{{item.name}}</a></li></ul></div>'),t.put("app/modules/category/add.html",'<div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>{{title}}</h5></div><form class="row block" role="form" ng-submit="cateAdd()"><div class="form-group col-xs-12"><label for="type" class="col-sm-2 control-label">一级分类</label><div class="col-sm-10"><select ng-model="category" ng-change="getChild()" ng-options="str.name for str in ups" class="input-lg form-control"><option value="">--选择分类类型--</option></select></div></div><div class="form-group col-xs-12"><label for="type" class="col-sm-2 control-label">二级分类</label><div class="col-sm-10"><select ng-model="childCate" ng-options="str.name for str in childCates" ng-change="getThird()" class="input-lg form-control"><option value="">--选择分类类型--</option></select></div></div><div class="form-group col-xs-12"><label for="type" class="col-sm-2 control-label">三级分类</label><div class="col-sm-10"><select ng-model="thirdCate" ng-options="str.name for str in thirdCates" class="input-lg form-control"><option value="">--选择分类类型--</option></select></div></div><div class="form-group col-xs-12"><label for="tel" class="col-sm-2 control-label">品类名称</label><div class="col-sm-10"><input type="text" required="" class="input-lg form-control" ng-model="cateInfo.name" name="catename" placeholder="请输入品类名称"></div></div><div class="form-group col-xs-12"><label for="weight" class="col-sm-2 control-label">权重[越大越靠前]</label><div class="col-sm-10"><input type="number" required="" class="input-lg form-control" ng-model="cateInfo.weight" name="weight" placeholder="请输入权重值"></div></div><div class="form-group col-xs-12"><div class="col-sm-offset-2 col-sm-10"><button type="submit" class="btn btn-success col-xs-12 btn-lg">保存</button></div></div><div class="form-group col-xs-12"><div class="col-sm-offset-2 col-sm-10"><button type="button" ng-click="reback()" class="btn btn-default col-xs-12 btn-lg">取消</button></div></div></form></div>'),t.put("app/modules/category/edit.html",'<div class="container-fluid"><script type="text/ng-template" id="myModalContent.html"><div class="modal-header"> <h3 class="modal-title">{{items.headerText}}</h3> </div> <div class="modal-body"> <h2 class="text-center">{{items.bodyText}}</h2> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="items.ok()" ng-if="items.actionText"> {{items.actionText}} </button> <button class="btn btn-warning" ng-click="items.close();cancel()">{{items.closeText}}</button> </div></script><div ng-include="\'components/subnavbar/subnavbar.html\'" ng-init="pageTitle=\'编辑分类\'"></div><form class="row block block-col form-horizontal" role="form" ng-submit="cateSave()" ng-controller="CategoryEditCtrl"><div class="form-group col-xs-12"><label for="type" class="col-sm-2 control-label">一级分类</label><div class="col-sm-10"><select ng-model="category" ng-change="getChild()" ng-options="str.name for str in ups" class="input-lg form-control"><option value="">--选择分类类型--</option></select></div></div><div class="form-group col-xs-12"><label for="type" class="col-sm-2 control-label">二级分类</label><div class="col-sm-10"><select ng-model="childCate" ng-options="str.name for str in childCates" ng-change="getThird()" class="input-lg form-control"><option value="">--选择分类类型--</option></select></div></div><div class="form-group col-xs-12"><label for="type" class="col-sm-2 control-label">三级分类</label><div class="col-sm-10"><select ng-model="thirdCate" ng-options="str.name for str in thirdCates" class="input-lg form-control"><option value="">--选择分类类型--</option></select></div></div><div class="form-group col-xs-12"><label for="tel" class="col-sm-2 control-label">品类名称</label><div class="col-sm-10"><input type="text" required="" class="input-lg form-control" ng-model="cateInfo.name" name="catename" placeholder="请输入品类名称"></div></div><div class="form-group col-xs-12"><label for="weight" class="col-sm-2 control-label">权重【从大到小排序】</label><div class="col-sm-10"><input type="number" required="" class="input-lg form-control" ng-model="cateInfo.weight" name="weight" placeholder="请输入权重值"></div></div><div class="form-group col-xs-12"><button type="submit" class="btn btn-success col-xs-12 btn-lg">保存</button></div><div class="form-group col-xs-12"><button type="button" ng-click="reback()" class="btn btn-default col-xs-12 btn-lg">取消</button></div></form></div><div ng-include="\'components/footer/footer.html\'"></div>'),t.put("app/modules/category/list.html",'<div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>{{title}}</h5></div><div class="bs-callout"><div class="mt-10 text-left"><div class="form-group row"><div class="col-xs-4"><a class="btn btn-success btn-lg btn-block" ui-sref="home.categoryAdd">添加分类</a></div><div class="col-xs-4"><a class="btn btn-default btn-lg btn-block" href="{{site_url}}/temp_export/get_category">导出分类</a></div><div class="col-xs-4"><a class="btn btn-default btn-lg btn-block" href="{{site_url}}/temp_export/get_template">导出产品模板</a></div></div></div></div><div class="table-responsive" style="margin-top:10px;"><table class="table table-bordered table-striped table-hover"><colgroup><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-3"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-3"></colgroup><thead><tr><td class="text-center"><h5>编号</h5></td><td class="text-center"><h5>分类权重</h5></td><td class="text-center"><h5>分类名</h5></td><td class="text-center"><h5>分类状态</h5></td><td class="text-center"><h5>上次更新时间</h5></td><td class="text-center"><h5>操作</h5></td></tr></thead><tbody ng-if="list.length===0"><tr><td colspan="6" class="text-center"><h5>暂无数据</h5></td></tr></tbody><tbody><tr ng-repeat="item in list"><td class="text-center"><h5>{{item.id}}</h5></td><td class="text-center"><h5>{{item.weight}}</h5></td><td class="text-center"><h5><a class="btn btn-info btn_mb5 btn-sm" ng-if="item.upid > 0" ng-click="getParent($index)">返回上级</a> {{item.name}} <a class="btn btn-info btn_mb5 btn-sm" ng-click="getChild($index)">查看下级&nbsp;<span class="glyphicon glyphicon-chevron-down"></span></a></h5></td><td class="text-center"><h5 ng-if="item.status == 1">有效</h5><h5 ng-if="item.status == 0">无效</h5></td><td class="text-center"><h5>{{item.updated_time}}</h5></td><td class="text-center"><h5><a class="btn btn-primary btn_mb5 btn-sm" ui-sref="home.categoryEdit({id:item.id})">编辑分类</a> <a class="btn btn-danger btn-sm btn_mb5" ng-click="setStatus($index, 0)" ng-show="item.status == 1">禁用分类</a> <a class="btn btn-success btn-sm btn_mb5" ng-click="setStatus($index, 1)" ng-show="item.status == 0">启用分类</a></h5></td></tr></tbody></table></div><nav><dachu-pagination conf="paginationConf"></dachu-pagination></nav></div>'),t.put("app/modules/customer/create.html",'<div class="container-fluid" ng-controller="CustomerCreateCtrl"><script type="text/ng-template" id="myModalContent.html"><div class="modal-header"> <h3 class="modal-title">{{items.headerText}}</h3> </div> <div class="modal-body"> <h2 class="text-center">{{items.bodyText}}</h2> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="items.ok();cancel();" ng-if="items.actionText"> {{items.actionText}} </button> <button class="btn btn-warning" ng-click="items.close();cancel()">{{items.closeText}}</button> </div></script><div class="width_change" id="row block-title"><div class="col-sm-offset-2 col-sm-10 col-xs-12"><div class="bs-callout bs-callout-danger"><h5>添加客户信息</h5></div><div class="form-group" ng-show="basic_form.$invalid && basic_form.$dirty && show_error"><div class="col-sm-12"><div class="alert alert-danger"><ul><li ng-show="basic_form.site_id.$error.required">请选择用户所属系统！</li><li ng-show="basic_form.mobile.$error.required">请输入手机号码！</li><li ng-show="basic_form.mobile.$error.pattern">手机号码格式不对！</li><li ng-show="basic_form.name.$error.required">请输入用户姓名！</li></ul></div></div></div><div class="block mt-10 ml-default"><form class="form-horizontal showcase-form" role="form" id="basic_form" name="basic_form"><div class="form-group"><label class="col-sm-2 control-label">所属系统：</label> <label class="radio-inline"><input type="radio" name="site_id" ng-model="info.site_id" value="0" required="">大厨</label> <label class="radio-inline"><input type="radio" name="site_id" ng-model="info.site_id" value="1" required="">大果</label></div><div class="form-group"><label class="col-sm-2 control-label">手机号：</label><div class="col-sm-10"><input type="text" ng-model="info.mobile" class="form-control" placeholder="请输入手机号码"></div></div><div class="form-group"><label class="col-sm-2 control-label">姓名：</label><div class="col-sm-10"><input type="text" ng-model="info.name" class="form-control" placeholder="请输入姓名"></div></div><div class="form-group"><label class="col-sm-2 control-label">地理位置：</label><div class="col-sm-10"><select ng-model="addr.province" class="form-control" ng-options="m.name for m in provinces" ng-change="get_child(\'citys\', \'province\');get_market(\'province\')" required=""><option value="">选择省份</option></select></div></div><div class="form-group"><label class="col-sm-2 control-label">详细地址：</label><div class="col-sm-10"><input type="text" ng-model="info.address" class="form-control" placeholder="请输入详细地址"></div></div><div class="form-group"><label class="col-sm-2 control-label">店铺名称：</label><div class="col-sm-10"><input type="text" ng-model="info.shop_name" class="form-control" placeholder="请输入店铺名称"></div></div><div class="form-group"><label class="col-sm-2 control-label">备注：</label><div class="col-sm-10"><input type="text" ng-model="info.remark" class="form-control" placeholder="请输入备注"></div></div><div class="form-group"><button class="btn btn-info btn-lg col-sm-3 col-sm-offset-1" ng-click="create();">提交</button> <button class="btn btn-warning btn-lg col-sm-3 col-sm-offset-1" ng-click="reset()">重置</button></div></form></div></div></div></div>'),t.put("app/modules/customer/edit.html",'<div class="container-fluid" ng-controller="CustomerEditCtrl"><script type="text/ng-template" id="myModalContent.html"><div class="modal-header"> <h3 class="modal-title">{{items.headerText}}</h3> </div> <div class="modal-body"> <h2 class="text-center">{{items.bodyText}}</h2> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="items.ok();cancel();" ng-if="items.actionText"> {{items.actionText}} </button> <button class="btn btn-warning" ng-click="items.close();cancel()">{{items.closeText}}</button> </div></script><div class="width_change" id="row block-title"><div class="col-sm-offset-2 col-sm-10 col-xs-12"><div class="bs-callout bs-callout-danger"><h5>编辑客户信息</h5></div><div class="block mt-10 ml-default"><form class="form-horizontal" role="form"><div class="form-group"><label class="col-sm-2 control-label">手机号：</label><div class="col-sm-10"><input type="text" ng-model="info.mobile" class="form-control" placeholder="请输入手机号码"></div></div><div class="form-group"><label class="col-sm-2 control-label">姓名：</label><div class="col-sm-10"><input type="text" ng-model="info.name" class="form-control" placeholder="请输入姓名"></div></div><div class="form-group"><label class="col-sm-2 control-label">地理位置：</label><div class="col-sm-10"><select ng-model="addr.province" class="form-control" ng-options="m.name for m in provinces" ng-change="get_child(\'citys\', \'province\');get_market(\'province\')" required=""><option value="">选择省份</option></select></div></div><div class="form-group"><label class="col-sm-2 control-label">详细地址：</label><div class="col-sm-10"><input type="text" ng-model="info.address" class="form-control" placeholder="请输入详细地址"></div></div><div class="form-group"><label class="col-sm-2 control-label">店铺名称：</label><div class="col-sm-10"><input type="text" ng-model="info.shop_name" class="form-control" placeholder="请输入店铺名称"></div></div><div class="form-group"><label class="col-sm-2 control-label">备注：</label><div class="col-sm-10"><input type="text" ng-model="info.remark" class="form-control" placeholder="请输入备注"></div></div><div class="form-group"><button class="btn btn-info btn-lg col-sm-3 col-sm-offset-1" ng-click="edit();">提交修改</button> <button class="btn btn-warning btn-lg col-sm-3 col-sm-offset-1" ng-click="reset()">重置</button></div></form></div></div></div></div>'),t.put("app/modules/customer/list.html",'<div class="container-fluid" ng-controller="CustomerListCtrl"><script type="text/ng-template" id="myModalContent.html"><div class="modal-header"> <h3 class="modal-title">{{items.headerText}}</h3> </div> <div class="modal-body"> <h2 class="text-center">{{items.bodyText}}</h2> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="items.ok();cancel();" ng-if="items.actionText"> {{items.actionText}} </button> <button class="btn btn-warning" ng-click="items.close();cancel()">{{items.closeText}}</button> </div></script><div class="width_change" id="row block-title"><div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>客户列表</h5></div><div class="bs-callout"><a ng-click="filterByStatus(\'all\');" ng-class="{\'btn-info\': status == \'all\'}" class="btn">全部 <span class="badge">{{total[4]}}</span></a> <a ng-click="filterByStatus(\'1\');" ng-class="{\'btn-info\': status == \'1\'}" class="btn">正常 <span class="badge">{{total[2]}}</span></a> <a ng-click="filterByStatus(\'2\');" ng-class="{\'btn-info\': status == \'2\'}" class="btn">待激活 <span class="badge">{{total[2]}}</span></a> <a ng-click="filterByStatus(\'0\');" ng-class="{\'btn-info\': status == \'0\'}" class="btn">已禁用 <span class="badge">{{total[3]}}</span></a><div class="block mt-10 ml-default"><form class="form-inline" role="form"><div class="form-group"><div class="input-group"><div class="input-group-addon">关键词</div><input type="text" ng-model="key" class="form-control" placeholder="请输入搜索关键词"></div></div><div class="form-group"><div class="input-group"><div class="input-group-addon">起始时间</div><input type="text" is-open="opened" datepicker-popup="yyyy-MM-dd" ng-click="open($event)" datepicker-options="dateOptions" class="form-control" ng-model="startTime" id="startTime" placeholder="点击获取时间"></div></div><div class="form-group"><div class="input-group"><div class="input-group-addon">截止时间</div><input type="text" ng-model="endTime" class="form-control" datepicker-popup="yyyy-MM-dd" datepicker-options="endDateOptions" ng-click="endOpen($event)" is-open="endOpened" id="endTime" placeholder="点击获取时间"></div></div><div class="mt-10"><div class="form-group"><button class="btn-block btn btn-info" ng-click="search();">筛选</button></div><div class="form-group"><button class="btn btn-block btn-warning" ng-click="reset()">重置</button></div><div class="form-group"><button class="btn btn-block btn-primary" ng-click="exportData()">导出数据</button></div></div></form></div><div class="table-responsive" style="margin-top:10px;"><table class="table table-bordered table-striped table-hover"><colgroup><col class="col-xs-1"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-1"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-2"></colgroup><thead><tr><td class="text-center"><h5>编号</h5></td><td class="text-center"><h5>客户姓名</h5></td><td class="text-center"><h5>手机号</h5></td><td class="text-center"><h5>已完成订单数</h5></td><td class="text-center"><h5>注册时间</h5></td><td class="text-center"><h5>备注</h5></td><td class="text-center"><h5>操作</h5></td></tr></thead><tbody ng-if="list.length===0"><tr><td colspan="8" class="text-center"><h5>暂无数据</h5></td></tr></tbody><tbody ng-if="list.length>0"><tr ng-repeat="item in list"><td class="text-center"><h5>{{item.id}}</h5></td><td class="text-center"><h5>{{item.name}}</h5></td><td class="text-center"><h5>{{item.mobile}}</h5></td><td class="text-center"><h5>{{item.order}}</h5></td><td class="text-center"><h5>{{item.created_time}}</h5></td><td class="text-center"><h5>{{item.remark}}</h5></td><td class="text-center"><h5><a class="btn btn-primary btn_mb5 btn-sm" href="/customer/edit/{{item.id}}">编辑客户</a> <a class="btn btn-info btn-sm btn_mb5" ng-if="auth.edit && item.status == 2" ng-click="setStatus($index,1)">审核通过</a> <a class="btn btn-danger btn-sm btn_mb5" ng-click="setStatus($index, 0)" ng-if="item.status == 1">禁用账号</a> <a class="btn btn-success btn-sm btn_mb5" ng-click="setStatus($index, 1)" ng-if="item.status == 0">启用账号</a> <a class="btn btn-info btn-sm btn_mb5" ng-click="resetPassword($index)">重置密码</a></h5></td></tr></tbody></table></div><nav><dachu-pagination conf="paginationConf"></dachu-pagination></nav></div></div></div></div>'),t.put("app/modules/department/create.html",'<div class="container-fluid" ng-controller="DepartmentCreateCtrl"><div class="width_change" id="row block-title"><div class="col-sm-offset-2 col-sm-10 col-xs-12"><div class="bs-callout bs-callout-danger"><h5>添加部门</h5></div><div class="form-group" ng-show="basic_form.$invalid && basic_form.$dirty && show_error"><div class="col-sm-12"><div class="alert alert-danger"><ul><li ng-show="basic_form.dept_name.$error.required">请输入部门名称！</li></ul></div></div></div><div class="block mt-10 ml-default"><form class="form-horizontal showcase-form" role="form" name="basic_form" id="basic_form"><div class="form-group"><label class="col-sm-2 control-label">上级部门：</label><div class="col-sm-10"><select ng-model="data.parent" class="form-control" ng-options="m.pre_name for m in departments"><option value="">选择上级部门</option></select></div></div><div class="form-group"><label class="col-sm-2 control-label">部门名称：</label><div class="col-sm-10"><input type="text" name="dept_name" ng-model="data.dept_name" class="form-control" placeholder="请输入部门名称" required=""></div></div><div class="form-group"><label class="col-sm-2 control-label">描述：</label><div class="col-sm-10"><textarea ng-model="data.description" class="form-control" rows="3"></textarea></div></div><div class="form-group"><button class="btn btn-info btn-lg col-sm-3 col-sm-offset-1" ng-click="create();">提交</button> <button class="btn btn-warning btn-lg col-sm-3 col-sm-offset-1" ng-click="reset()">重置</button></div></form></div></div></div></div>'),t.put("app/modules/department/edit.html",'<div class="container-fluid" ng-controller="DepartmentEditCtrl"><div class="width_change" id="row block-title"><div class="col-sm-offset-2 col-sm-10 col-xs-12"><div class="bs-callout bs-callout-danger"><h5>修改部门</h5></div><div class="form-group" ng-show="basic_form.$invalid && basic_form.$dirty && show_error"><div class="col-sm-12"><div class="alert alert-danger"><ul><li ng-show="basic_form.name.$error.required">请输入部门名称！</li></ul></div></div></div><div class="block mt-10 ml-default"><form class="form-horizontal showcase-form" role="form" name="basic_form" id="basic_form"><div class="form-group"><label class="col-sm-2 control-label">上级部门：</label><div class="col-sm-10"><select ng-model="data.parent" class="form-control" ng-options="m.pre_name for m in list"><option value="">选择上级部门</option></select></div></div><div class="form-group"><label class="col-sm-2 control-label">部门名称：</label><div class="col-sm-10"><input type="text" name="name" ng-model="data.name" class="form-control" placeholder="请输入部门名称" required=""></div></div><div class="form-group"><label class="col-sm-2 control-label">描述：</label><div class="col-sm-10"><textarea ng-model="data.description" class="form-control" rows="3"></textarea></div></div><div class="form-group"><button class="btn btn-info btn-lg col-sm-3 col-sm-offset-1" ng-click="edit();">提交</button> <button class="btn btn-warning btn-lg col-sm-3 col-sm-offset-1" ng-click="reset()">重置</button></div></form></div></div></div></div>'),t.put("app/modules/department/list.html",'<div class="container-fluid" ng-controller="DepartmentListCtrl"><div class="width_change" id="row block-title"><div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>部门列表</h5></div><div class="bs-callout"><div class="block mt-10 ml-default"><form class="form-inline" role="form"><div class="form-group"><div class="input-group"><input type="text" ng-model="searchValue" class="form-control" placeholder="请输入搜索关键词"></div></div><div class="form-group"><button class="btn-block btn btn-info" ng-click="search();">筛选</button></div><div class="form-group"><button class="btn btn-block btn-warning" ng-click="reset()">重置</button></div><div class="form-group"><a class="btn btn-primary btn-sm" href="/department/create">添加部门</a></div></form></div></div><div style="margin-top:10px;" class="table-responsive"><table class="table table-bordered table-striped table-hover"><colgroup><col class="col-xs-1"><col class="col-xs-4"><col class="col-xs-3"><col class="col-xs-2"><col class="col-xs-2"></colgroup><thead><tr><td class="text-center"><h5>编号</h5></td><td class="text-center"><h5>部门名称</h5></td><td class="text-center"><h5>描述</h5></td><td class="text-center"><h5>添加时间</h5></td><td class="text-center"><h5>操作</h5></td></tr></thead><tbody ng-if="list.length===0"><tr><td colspan="8" class="text-center"><h5>暂无数据</h5></td></tr></tbody><tbody ng-if="list.length>0"><tr ng-repeat="item in list"><td class="text-center"><h5>{{item.id}}</h5></td><td class="text-left"><h5>{{item.pre_name}}</h5></td><td class="text-center"><h5>{{item.description}}</h5></td><td class="text-center"><h5>{{item.created_time}}</h5></td><td class="text-center"><h5><a class="btn btn-info btn-sm" href="/department/edit/{{item.id}}">编辑</a> <a class="btn btn-danger btn-sm" ng-click="delete($index);">删除</a></h5></td></tr></tbody></table></div><nav><dachu-pagination conf="paginationConf"></dachu-pagination></nav></div></div></div>'),t.put("app/modules/home/achieve.html",'<div class="container-fluid" ng-controller="HomeAchieveCtrl"><div ng-include="\'components/navbar/navbar.html\'"></div><div id="row block-title"><div ng-include="\'components/navbar/navsidebar.html\'"></div><div class=" col-xs-offset-2 col-xs-10"><div class="row block block-col text-center" ng-if="data==\'\'"><h5>暂无记录</h5></div><div ng-if="data"><table class="table table-bordered table-striped"><colgroup><col class="col-xs-3"><col class="col-xs-3"><col class="col-xs-3"><col class="col-xs-3"></colgroup><tbody><tr><td class="text-center"><h5>今日新增供应商</h5></td><td class="text-center"><h5>{{data.today_new_seller}}</h5></td><td class="text-center"><h5>总供应商</h5></td><td class="text-center"><h5>{{data.total_seller}}</h5></td></tr><tr><td class="text-center"><h5>今日新增采购商</h5></td><td class="text-center"><h5>{{data.today_new_buyer}}</h5></td><td class="text-center"><h5>总采购商</h5></td><td class="text-center"><h5>{{data.total_buyer}}</h5></td></tr><tr><td class="text-center"><h5>今日订单数</h5></td><td class="text-center"><h5>{{data.today_new_order}}</h5></td><td class="text-center"><h5>总订单数</h5></td><td class="text-center"><h5>{{data.total_order}}</h5></td></tr><tr><td class="text-center"><h5>今日订单金额</h5></td><td class="text-center"><h5>{{data.today_deal_amount}}&nbsp;元</h5></td><td class="text-center"><h5>总订单金额</h5></td><td class="text-center"><h5>{{data.total_deal_amount}}&nbsp;元</h5></td></tr><tr><td class="text-center"><h5>今日新商品数</h5></td><td class="text-center"><h5>{{data.today_new_product}}</h5></td><td class="text-center"><h5>总商品数</h5></td><td class="text-center"><h5>{{data.total_product}}</h5></td></tr></tbody></table></div></div></div></div>'),t.put("app/modules/home/home.html",'<div class="container-fluid" ng-controller="HomeCtrl"><div ng-include="\'components/navbar/navbar.html\'"></div><div id="row block-title"><div ng-include="\'components/navbar/navsidebar.html\'"></div><div ui-view=""></div></div></div>'),t.put("app/modules/order/detail.html",'<div class="container-fluid" ng-controller="OrderDetailCtrl"><div ng-include="\'components/navbar/navbar.html\'"></div><div class="width_change" id="row block-title"><div ng-include="\'components/navbar/navsidebar.html\'"></div><div class=" col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h4>订单编号：{{data.order_number}}</h4><h5 style="margin-top:10px;">状态：{{data.status_cn}}</h5></div><div class="row text-center" ng-if="data==\'\'"><h5>暂无记录</h5></div><div ng-if="data"><table class="table table-bordered table-striped"><colgroup><col class="col-xs-3"><col class="col-xs-3"><col class="col-xs-3"><col class="col-xs-3"></colgroup><tbody><tr><td class="text-center"><h5>客户名称</h5></td><td class="text-center"><h5>{{data.realname}}</h5></td><td class="text-center"><h5>电话</h5></td><td class="text-center"><h5>{{data.mobile}}</h5></td></tr><tr><td class="text-center"><h5>送货地点</h5></td><td class="text-center"><h5>{{data.deliver_addr}}</h5></td><td class="text-center"><h5>送货时间</h5></td><td class="text-center"><h5>{{data.deliver_date}} {{data.deliver_time}}</h5></td></tr><tr><td class="text-center"><h5>下单时间</h5></td><td class="text-center"><h5>{{data.created_time}}&nbsp;</h5></td><td class="text-center"><h5>订单金额</h5></td><td class="text-center"><h5>{{data.total_price}}&nbsp;元</h5></td></tr><tr><td class="text-center"><h5>店铺名称</h5></td><td class="text-center"><h5>{{data.shop_name}}&nbsp;</h5></td><td class="text-center"><h5>BD姓名</h5></td><td class="text-center"><h5></h5></td></tr></tbody></table><table class="table table-bordered table-striped"><colgroup><col class="col-xs-3"><col class="col-xs-3"><col class="col-xs-3"><col class="col-xs-3"></colgroup><tbody><tr><td class="text-center" colspan="4"><h5>订单内容</h5></td></tr><tr><td class="text-center"><h5><strong>商品名称</strong></h5></td><td class="text-center"><h5><strong>单价</strong></h5></td><td class="text-center"><h5><strong>数量</strong></h5></td><td class="text-center"><h5><strong>小计</strong></h5></td></tr><tr ng-repeat="item in data.detail"><td class="text-center"><h5>{{item.name}}</h5><span class="text-warning"><small ng-repeat="spec in item.spec" ng-show="spec.val">{{spec.name}}：{{spec.val}}<br></small></span></td><td class="text-center"><h5>{{item.price}}元</h5></td><td class="text-center"><h5>{{item.quantity}}</h5></td><td class="text-center"><h5>{{item.sum_price}}元</h5></td></tr></tbody></table></div><div class="col-xs-12 form-group"><button class="btn col-xs-3 btn-lg btn-primary pull-left" ng-click="setStatus(data.id, 3);" ng-if="data.status == 2">审核通过</button> <button class="btn col-xs-3 btn-lg btn-info pull-left" ng-click="setStatus(data.id, 5);" ng-if="data.status == 3 || data.status == 4">已发货</button> <button class="btn col-xs-3 btn-lg btn-warning pull-left" ng-click="setStatus(data.id, 6);" ng-if="data.status == 5">已签收</button> <button class="btn col-xs-3 btn-lg btn-danger pull-left" ng-click="setStatus(data.id, 1);" ng-if="data.status == 6">已回款</button> <button class="btn col-xs-3 btn-lg btn-success" style="margin-left:15px;" ng-click="back();">返回</button></div></div></div></div>'),t.put("app/modules/order/list.html",'<div class="container-fluid" ng-controller="OrderListCtrl"><div class="width_change" id="row block-title"><div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>订单列表</h5></div><div class="bs-callout"><a ng-click="filterByStatus(\'-1\');" ng-class="{\'btn-info\': status == \'-1\'}" class="btn">全部 <span class="badge">{{total[-1]}}</span></a> <a ng-click="filterByStatus(\'2\');" ng-class="{\'btn-info\': status == \'2\'}" class="btn">待审核 <span class="badge">{{total[2]}}</span></a> <a ng-click="filterByStatus(\'3\');" ng-class="{\'btn-info\': status == \'3\'}" class="btn">待出库 <span class="badge">{{total[3]}}</span></a> <a ng-click="filterByStatus(\'5\');" ng-class="{\'btn-info\': status == \'5\'}" class="btn">待签收 <span class="badge">{{total[5]}}</span></a> <a ng-click="filterByStatus(\'6\');" ng-class="{\'btn-info\': status == \'6\'}" class="btn">待回款 <span class="badge">{{total[6]}}</span></a> <a ng-click="filterByStatus(\'1\');" ng-class="{\'btn-info\': status == \'1\'}" class="btn">已完成 <span class="badge">{{total[1]}}</span></a> <a ng-click="filterByStatus(\'0\');" ng-class="{\'btn-info\': status == \'0\'}" class="btn">已关闭 <span class="badge">{{total[0]}}</span></a><div class="block mt-10 ml-default"><form class="form-inline" role="form"><div class="form-group"><div class="input-group"><div class="input-group-addon">关键词</div><input type="text" ng-model="searchValue" class="form-control" placeholder="请输入搜索关键词"></div></div><div class="form-group"><button class="btn-block btn btn-info" ng-click="search();">筛选</button></div><div class="form-group"><button class="btn btn-block btn-warning" ng-click="reset()">重置</button></div></form></div><div class="table-responsive" style="margin-top:10px;"><table class="table table-bordered table-striped table-hover"><colgroup><col class="col-xs-2"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-2"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-2"></colgroup><thead><tr><td class="text-center"><h5>订单号</h5></td><td class="text-center"><h5>客户姓名</h5></td><td class="text-center"><h5>客户电话</h5></td><td class="text-center"><h5>店铺名称</h5></td><td class="text-center"><h5>送货地址</h5></td><td class="text-center"><h5>送货时间</h5></td><td class="text-center"><h5>订单金额</h5></td><td class="text-center"><h5>订单状态</h5></td><td class="text-center"><h5>订单内容</h5></td></tr></thead><tbody ng-if="list.length===0"><tr><td colspan="9" class="text-center"><h5>暂无数据</h5></td></tr></tbody><tbody ng-if="list.length>0"><tr ng-repeat="item in list"><td class="text-center"><h5>{{item.order_number}}</h5></td><td class="text-center"><h5>{{item.realname}}</h5></td><td class="text-center"><h5>{{item.mobile}}</h5></td><td class="text-center"><h5>{{item.shop_name}}</h5></td><td class="text-center"><h5>{{item.deliver_addr}}</h5></td><td class="text-center"><h5>{{item.deliver_date}}</h5><h5>{{item.deliver_time}}</h5></td><td class="text-center"><h5>{{item.total_price}}</h5></td><td class="text-center"><h5 class="label label-success">{{item.status_cn}}</h5></td><td class="text-center"><h5><a ng-href="order/detail/{{item.order_number}}">查看</a></h5></td></tr></tbody></table></div><nav><dachu-pagination conf="paginationConf"></dachu-pagination></nav></div></div></div></div>'),t.put("app/modules/order/listAudit.html",'<div class="container-fluid"><div class="width_change" id="row block-title"><div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>待审核订单列表</h5></div><div class="bs-callout"><div class="block mt-10 ml-default"><form class="form-inline" role="form"><div class="form-group"><div class="input-group"><div class="input-group-addon">关键词</div><input type="text" ng-model="searchValue" class="form-control" placeholder="请输入搜索关键词"></div></div><div class="form-group"><button class="btn-block btn btn-info" ng-click="search();">筛选</button></div><div class="form-group"><button class="btn btn-block btn-warning" ng-click="reset()">重置</button></div></form></div><div class="table-responsive" style="margin-top:10px;"><table class="table table-bordered table-striped table-hover"><colgroup><col class="col-xs-2"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-2"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-2"></colgroup><thead><tr><td class="text-center"><h5>订单号</h5></td><td class="text-center"><h5>客户姓名</h5></td><td class="text-center"><h5>客户电话</h5></td><td class="text-center"><h5>店铺名称</h5></td><td class="text-center"><h5>送货地址</h5></td><td class="text-center"><h5>送货时间</h5></td><td class="text-center"><h5>订单金额</h5></td><td class="text-center"><h5>订单状态</h5></td><td class="text-center"><h5>订单内容</h5></td></tr></thead><tbody ng-if="list.length===0"><tr><td colspan="9" class="text-center"><h5>暂无数据</h5></td></tr></tbody><tbody ng-if="list.length>0"><tr ng-repeat="item in list"><td class="text-center"><h5>{{item.order_number}}</h5></td><td class="text-center"><h5>{{item.realname}}</h5></td><td class="text-center"><h5>{{item.mobile}}</h5></td><td class="text-center"><h5>{{item.shop_name}}</h5></td><td class="text-center"><h5>{{item.deliver_addr}}</h5></td><td class="text-center"><h5>{{item.deliver_date}}</h5><h5>{{item.deliver_time}}</h5></td><td class="text-center"><h5>{{item.total_price}}</h5></td><td class="text-center"><h5 class="label label-success">{{item.status_cn}}</h5></td><td class="text-center"><h5><a ng-href="order/detail/{{item.order_number}}">查看</a></h5></td></tr></tbody></table></div><nav><dachu-pagination conf="paginationConf"></dachu-pagination></nav></div></div></div></div>'),t.put("app/modules/order/listDeliver.html",'<div class="container-fluid"><div class="width_change" id="row block-title"><div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>待出库订单列表</h5></div><div class="bs-callout"><div class="block mt-10 ml-default"><form class="form-inline" role="form"><div class="form-group"><div class="input-group"><div class="input-group-addon">关键词</div><input type="text" ng-model="searchValue" class="form-control" placeholder="请输入搜索关键词"></div></div><div class="form-group"><button class="btn-block btn btn-info" ng-click="search();">筛选</button></div><div class="form-group"><button class="btn btn-block btn-warning" ng-click="reset()">重置</button></div></form></div><div class="table-responsive" style="margin-top:10px;"><table class="table table-bordered table-striped table-hover"><colgroup><col class="col-xs-2"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-2"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-2"></colgroup><thead><tr><td class="text-center"><h5>订单号</h5></td><td class="text-center"><h5>客户姓名</h5></td><td class="text-center"><h5>客户电话</h5></td><td class="text-center"><h5>店铺名称</h5></td><td class="text-center"><h5>送货地址</h5></td><td class="text-center"><h5>送货时间</h5></td><td class="text-center"><h5>订单金额</h5></td><td class="text-center"><h5>订单状态</h5></td><td class="text-center"><h5>订单内容</h5></td></tr></thead><tbody ng-if="list.length===0"><tr><td colspan="9" class="text-center"><h5>暂无数据</h5></td></tr></tbody><tbody ng-if="list.length>0"><tr ng-repeat="item in list"><td class="text-center"><h5>{{item.order_number}}</h5></td><td class="text-center"><h5>{{item.realname}}</h5></td><td class="text-center"><h5>{{item.mobile}}</h5></td><td class="text-center"><h5>{{item.shop_name}}</h5></td><td class="text-center"><h5>{{item.deliver_addr}}</h5></td><td class="text-center"><h5>{{item.deliver_date}}</h5><h5>{{item.deliver_time}}</h5></td><td class="text-center"><h5>{{item.total_price}}</h5></td><td class="text-center"><h5 class="label label-success">{{item.status_cn}}</h5></td><td class="text-center"><h5><a ng-href="order/detail/{{item.order_number}}">查看</a></h5></td></tr></tbody></table></div><nav><dachu-pagination conf="paginationConf"></dachu-pagination></nav></div></div></div></div>'),t.put("app/modules/order/listPayment.html",'<div class="container-fluid"><div class="width_change" id="row block-title"><div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>待回款订单列表</h5></div><div class="bs-callout"><div class="block mt-10 ml-default"><form class="form-inline" role="form"><div class="form-group"><div class="input-group"><div class="input-group-addon">关键词</div><input type="text" ng-model="searchValue" class="form-control" placeholder="请输入搜索关键词"></div></div><div class="form-group"><button class="btn-block btn btn-info" ng-click="search();">筛选</button></div><div class="form-group"><button class="btn btn-block btn-warning" ng-click="reset()">重置</button></div></form></div><div class="table-responsive" style="margin-top:10px;"><table class="table table-bordered table-striped table-hover"><colgroup><col class="col-xs-2"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-2"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-2"></colgroup><thead><tr><td class="text-center"><h5>订单号</h5></td><td class="text-center"><h5>客户姓名</h5></td><td class="text-center"><h5>客户电话</h5></td><td class="text-center"><h5>店铺名称</h5></td><td class="text-center"><h5>送货地址</h5></td><td class="text-center"><h5>送货时间</h5></td><td class="text-center"><h5>订单金额</h5></td><td class="text-center"><h5>订单状态</h5></td><td class="text-center"><h5>订单内容</h5></td></tr></thead><tbody ng-if="list.length===0"><tr><td colspan="9" class="text-center"><h5>暂无数据</h5></td></tr></tbody><tbody ng-if="list.length>0"><tr ng-repeat="item in list"><td class="text-center"><h5>{{item.order_number}}</h5></td><td class="text-center"><h5>{{item.realname}}</h5></td><td class="text-center"><h5>{{item.mobile}}</h5></td><td class="text-center"><h5>{{item.shop_name}}</h5></td><td class="text-center"><h5>{{item.deliver_addr}}</h5></td><td class="text-center"><h5>{{item.deliver_date}}</h5><h5>{{item.deliver_time}}</h5></td><td class="text-center"><h5>{{item.total_price}}</h5></td><td class="text-center"><h5 class="label label-success">{{item.status_cn}}</h5></td><td class="text-center"><h5><a ng-href="order/detail/{{item.order_number}}">查看</a></h5></td></tr></tbody></table></div><nav><dachu-pagination conf="paginationConf"></dachu-pagination></nav></div></div></div></div>'),t.put("app/modules/order/listSign.html",'<div class="container-fluid"><div class="width_change" id="row block-title"><div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>待签收订单列表</h5></div><div class="bs-callout"><div class="block mt-10 ml-default"><form class="form-inline" role="form"><div class="form-group"><div class="input-group"><div class="input-group-addon">关键词</div><input type="text" ng-model="searchValue" class="form-control" placeholder="请输入搜索关键词"></div></div><div class="form-group"><button class="btn-block btn btn-info" ng-click="search();">筛选</button></div><div class="form-group"><button class="btn btn-block btn-warning" ng-click="reset()">重置</button></div></form></div><div class="table-responsive" style="margin-top:10px;"><table class="table table-bordered table-striped table-hover"><colgroup><col class="col-xs-2"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-2"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-2"></colgroup><thead><tr><td class="text-center"><h5>订单号</h5></td><td class="text-center"><h5>客户姓名</h5></td><td class="text-center"><h5>客户电话</h5></td><td class="text-center"><h5>店铺名称</h5></td><td class="text-center"><h5>送货地址</h5></td><td class="text-center"><h5>送货时间</h5></td><td class="text-center"><h5>订单金额</h5></td><td class="text-center"><h5>订单状态</h5></td><td class="text-center"><h5>订单内容</h5></td></tr></thead><tbody ng-if="list.length===0"><tr><td colspan="9" class="text-center"><h5>暂无数据</h5></td></tr></tbody><tbody ng-if="list.length>0"><tr ng-repeat="item in list"><td class="text-center"><h5>{{item.order_number}}</h5></td><td class="text-center"><h5>{{item.realname}}</h5></td><td class="text-center"><h5>{{item.mobile}}</h5></td><td class="text-center"><h5>{{item.shop_name}}</h5></td><td class="text-center"><h5>{{item.deliver_addr}}</h5></td><td class="text-center"><h5>{{item.deliver_date}}</h5><h5>{{item.deliver_time}}</h5></td><td class="text-center"><h5>{{item.total_price}}</h5></td><td class="text-center"><h5 class="label label-success">{{item.status_cn}}</h5></td><td class="text-center"><h5><a ng-href="order/detail/{{item.order_number}}">查看</a></h5></td></tr></tbody></table></div><nav><dachu-pagination conf="paginationConf"></dachu-pagination></nav></div></div></div></div>'),t.put("app/modules/privilege/create.html",'<div class="container-fluid" ng-controller="PrivilegeCreateCtrl"><div class="width_change" id="row block-title"><div class="col-sm-offset-2 col-sm-10 col-xs-12"><div class="bs-callout bs-callout-danger"><h5>添加权限</h5></div><div class="form-group" ng-show="basic_form.$invalid && basic_form.$dirty && show_error"><div class="col-sm-12"><div class="alert alert-danger"><ul><li ng-show="basic_form.name.$error.required">请输入权限名称！</li></ul></div></div></div><div class="block mt-10 ml-default"><form class="form-horizontal showcase-form" role="form" name="basic_form" id="basic_form"><div class="form-group"><label class="col-sm-2 control-label">上级权限：</label><div class="col-sm-10"><select ng-model="data.parent" class="form-control" ng-options="m.pre_name for m in list"><option value="">选择上级权限</option></select></div></div><div class="form-group"><label class="col-sm-2 control-label">权限名称：</label><div class="col-sm-10"><input type="text" name="name" ng-model="data.name" class="form-control" placeholder="请输入权限名称" required=""></div></div><div class="form-group"><label class="col-sm-2 control-label">模块名称：</label><div class="col-sm-10"><input type="text" ng-model="data.module" class="form-control" placeholder="请输入模块名称"></div></div><div class="form-group"><label class="col-sm-2 control-label">资源名称：</label><div class="col-sm-10"><input type="text" ng-model="data.resource" class="form-control" placeholder="请输入资源名称"></div></div><div class="form-group"><label class="col-sm-2 control-label">操作名称：</label><div class="col-sm-10"><input type="text" ng-model="data.operation" class="form-control" placeholder="请输入操作名称"></div></div><div class="form-group"><button class="btn btn-info btn-lg col-sm-3 col-sm-offset-1" ng-click="create();">提交</button> <button class="btn btn-warning btn-lg col-sm-3 col-sm-offset-1" ng-click="reset()">重置</button></div></form></div></div></div></div>'),t.put("app/modules/privilege/edit.html",'<div class="container-fluid" ng-controller="PrivilegeEditCtrl"><div class="width_change" id="row block-title"><div class="col-sm-offset-2 col-sm-10 col-xs-12"><div class="bs-callout bs-callout-danger"><h5>编辑权限</h5></div><div class="form-group" ng-show="basic_form.$invalid && basic_form.$dirty && show_error"><div class="col-sm-12"><div class="alert alert-danger"><ul><li ng-show="basic_form.name.$error.required">请输入权限名称！</li></ul></div></div></div><div class="block mt-10 ml-default"><form class="form-horizontal showcase-form" role="form" name="basic_form" id="basic_form"><div class="form-group"><label class="col-sm-2 control-label">上级权限：</label><div class="col-sm-10"><select ng-model="data.parent" class="form-control" ng-options="m.pre_name for m in list"><option value="">选择上级权限</option></select></div></div><div class="form-group"><label class="col-sm-2 control-label">权限名称：</label><div class="col-sm-10"><input type="text" name="name" ng-model="data.name" class="form-control" placeholder="请输入权限名称" required=""></div></div><div class="form-group"><label class="col-sm-2 control-label">模块名称：</label><div class="col-sm-10"><input type="text" ng-model="data.module" class="form-control" placeholder="请输入模块名称"></div></div><div class="form-group"><label class="col-sm-2 control-label">资源名称：</label><div class="col-sm-10"><input type="text" ng-model="data.resource" class="form-control" placeholder="请输入资源名称"></div></div><div class="form-group"><label class="col-sm-2 control-label">操作名称：</label><div class="col-sm-10"><input type="text" ng-model="data.operation" class="form-control" placeholder="请输入操作名称"></div></div><div class="form-group"><button class="btn btn-info btn-lg col-sm-3 col-sm-offset-1" ng-click="edit();">提交</button> <button class="btn btn-warning btn-lg col-sm-3 col-sm-offset-1" ng-click="reset()">重置</button></div></form></div></div></div></div>'),t.put("app/modules/privilege/list.html",'<div class="container-fluid" ng-controller="PrivilegeListCtrl"><div class="width_change" id="row block-title"><div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>权限列表</h5></div><div class="bs-callout"><div class="block mt-10 ml-default"><form class="form-inline" role="form"><div class="form-group"><div class="input-group"><input type="text" ng-model="searchValue" class="form-control" placeholder="请输入搜索关键词"></div></div><div class="form-group"><button class="btn-block btn btn-info" ng-click="search();">筛选</button></div><div class="form-group"><button class="btn btn-block btn-warning" ng-click="reset()">重置</button></div><div class="form-group"><a class="btn btn-primary btn-sm" href="/privilege/create">添加权限</a></div></form></div></div><div style="margin-top:10px;" class="table-responsive"><table class="table table-bordered table-striped table-hover"><colgroup><col class="col-xs-1"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-1"><col class="col-xs-2"></colgroup><thead><tr><td class="text-center"><h5>编号</h5></td><td class="text-center"><h5>权限名称</h5></td><td class="text-center"><h5>模块名称</h5></td><td class="text-center"><h5>资源名称</h5></td><td class="text-center"><h5>操作名称</h5></td><td class="text-center"><h5>权限级别</h5></td><td class="text-center"><h5>操作</h5></td></tr></thead><tbody ng-if="list.length===0"><tr><td colspan="8" class="text-center"><h5>暂无数据</h5></td></tr></tbody><tbody ng-if="list.length>0"><tr ng-repeat="item in list"><td class="text-center"><h5>{{item.id}}</h5></td><td class="text-left"><h5>{{item.pre_name}}</h5></td><td class="text-center"><h5>{{item.module}}</h5></td><td class="text-center"><h5>{{item.resource}}</h5></td><td class="text-center"><h5>{{item.operation}}</h5></td><td class="text-center"><h5>{{item.level}}</h5></td><td class="text-center"><h5><a class="btn btn-info btn-sm" href="/privilege/edit/{{item.id}}">编辑</a> <a class="btn btn-danger btn-sm" ng-click="delete($index)">删除</a></h5></td></tr></tbody></table></div><nav><dachu-pagination conf="paginationConf"></dachu-pagination></nav></div></div></div>'),t.put("app/modules/product/add.html",'<script type="text/ng-template" id="myModalContent.html"><div class="modal-header"> <h3 class="modal-title">{{items.headerText}}</h3> </div> <div class="modal-body"> <h2 class="text-center">{{items.bodyText}}</h2> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="ok()" ng-if="items.actionText"> {{items.actionText}} </button> <button class="btn btn-warning" ng-click="cancel()">{{items.closeText}}</button> </div></script><div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>{{title}}</h5></div><div class="row block"><form role="form"><div class="form-group col-xs-12"><label for="exampleInputPassword1"><h6><b><em class="text-danger">*</em> 大品类</b></h6></label><select ng-change="getSecond()" ng-model="init.category_id" class="input-md form-control" ng-options="m.name for m in topCategory" required=""><option value="">选择大品类</option></select></div><div class="form-group col-xs-12" style="{{cate_style}}"><label for="exampleInputPassword1"><h6><b><em class="text-danger">*</em> 小品类</b></h6></label><select ng-model="init.childid" ng-change="getProduct()" class="input-md form-control" ng-options="m.name for m in secondCategory" required=""><option value="">选择小品类</option></select></div><div class="form-group col-xs-12"><label for="exampleInputPassword1"><h6><b><em class="text-danger">*</em> 选择产品分类</b></h6></label><select ng-model="init.productid" class="input-md form-control" ng-options="m.name for m in productCategory" ng-change="getProductsChild();selectProduct(m)" required=""><option value="">选择产品分类</option></select></div><div class="form-group col-xs-12" ng-if="productsChild.length > 0"><label for="exampleInputPassword1"><h6><b>品种</b></h6></label><select ng-model="init.productidChild" class="input-md form-control" ng-options="m.name for m in productsChild"><option value="">--选择品种--</option></select></div><div class="form-group col-xs-12"><label for="exampleInputPassword1"><h6><b><em class="text-danger">*</em> 产品标题</b></h6></label> <input type="text" class="input-md form-control" ng-model="product.title"></div><div class="form-group col-xs-12"><label for="exampleInputPassword1"><h6><b><em class="text-danger">*</em> 产品描述</b></h6></label> <textarea class="input-md form-control" ng-model="product.description" rows="3"></textarea></div><div class="form-group col-xs-12" ng-if="properties"><label for="exampleInputPassword1"><h6><b><em class="text-danger">*</em> 规格</b></h6></label><div class="col-xs-12" ng-repeat="prop in properties"><div class="col-xs-1"><h5><b>{{prop.name}}</b></h5></div><div class="col-xs-9"><span><input ng-if="prop.is_required==1 && prop.input_type==0" ng-model="init.spec[prop.id]" type="text" class="col-xs-4 input-md fomr-control" required=""> <input ng-if="prop.is_required==0 && prop.input_type==0" ng-model="init.spec[prop.id]" type="text" class="col-xs-4 input-md fomr-control"></span></div></div></div><div class="form-group col-xs-12"><label for="exampleInputPassword1"><h6><b><em class="text-danger">*</em> 今日价格</b></h6></label><div class="input-group"><span class="input-group-addon">市场价</span><input type="number" ng-model="product.market_price" class="input-md form-control col-xs-3" value="{{product.price}}" id="exampleInputPassword1" placeholder="请输入市场价格" required=""> <span class="input-group-addon">元</span> <span class="input-group-addon">大厨价</span><input type="number" ng-model="product.price" class="input-md form-control col-xs-3" value="{{product.price}}" id="exampleInputPassword1" placeholder="请输入大厨今日价格" required=""> <span class="input-group-addon">元</span><select ng-model="init.weight" ng-change="setWeight()" class="col-xs-4 input-md form-control" ng-options="m.name for m in weights" required=""><option value="">选择单位</option></select></div></div><div class="form-group col-xs-12"><label for="exampleInputPassword1"><h6><b><em class="text-danger">*</em> 货物状态</b></h6></label><select ng-model="init.status" class="input-md form-control" ng-options="m.name for m in status" required=""><option value="">选择货物状态</option></select></div><div class="form-group col-xs-12"><div class="col-xs-6" ng-repeat="button in buttons"><button type="{{button.type}}" class="btn btn-block {{button.cls}} btn-md" ng-click="{{button.clk}}({{id}})">{{button.name}}</button></div></div></form></div></div><div class="block-title"></div>'),t.put("app/modules/product/list.html",'<div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>{{title}}</h5></div><div class="bs-callout"><div class="mt-10"><div class="form-group row"><div class="col-xs-4"><a class="btn-block btn btn-info" ui-sref="home.productAdd">添加商品</a></div><div class="col-xs-4"><a class="btn btn-default btn-lg btn-block" href="{{site_url}}/temp_export/get_products">导出商品列表</a></div></div></div></div><div class="table-responsive" style="margin-top:10px;"><table class="table table-bordered table-striped table-hover"><colgroup><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-3"></colgroup><thead><tr><td class="text-center"><h5>编号</h5></td><td class="text-center"><h5>商品名称</h5></td><td class="text-center"><h5>价格信息</h5></td><td class="text-center"><h5>商品状态</h5></td><td class="text-center"><h5>商品描述</h5></td><td class="text-center"><h5>上一次更新时间</h5></td><td class="text-center"><h5>操作</h5></td></tr></thead><tbody ng-if="products.length===0"><tr><td colspan="7" class="text-center"><h5>暂无数据</h5></td></tr></tbody><tbody><tr ng-repeat="item in products"><td class="text-center"><h5>{{item.id}}</h5></td><td class="text-center"><h5>{{item.title}}</h5></td><td class="text-center"><h5>{{item.price}}/{{item.market_price}}</h5></td><td class="text-center"><h5><span ng-if="item.status == 1">已上架</span> <span class="label label-danger" ng-if="item.status == 0">已下架</span></h5></td><td class="text-center"><h5>{{item.description}}</h5></td><td class="text-center"><h5>{{item.updated_time}}</h5></td><td class="text-center"><h5><a class="btn btn-primary btn_mb5 btn-sm" ui-sref="home.productEdit({productId:item.id})">编辑商品</a> <a ng-if="item.status == 1" class="btn btn-danger btn-sm btn_mb5" ng-click="setstatus({{item.id}}, 0, $index)">下架商品</a> <a ng-if="item.status == 0" class="btn btn-success btn-sm btn_mb5" ng-click="setstatus({{item.id}}, 1, $index)">上架商品</a></h5></td></tr></tbody></table></div><nav><dachu-pagination conf="paginationConf"></dachu-pagination></nav></div>'),t.put("app/modules/product/manage.html",'<div class="container-fluid" ng-controller="ProductManageCtrl"><script type="text/ng-template" id="myModalContent.html"><div class="modal-header"> <h3 class="modal-title">{{items.headerText}}</h3> </div> <div class="modal-body"> <h2 class="text-center">{{items.bodyText}}</h2> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="ok()" ng-if="items.actionText"> {{items.actionText}} </button> <button class="btn btn-warning" ng-click="cancel()">{{items.closeText}}</button> </div></script><div ng-include="\'components/subnavbar/subnavbar.html\'" ng-init="pageTitle=\'货物管理\'"></div><div id="productList" infinite-scroll="pagination.nextPage()" infinite-scroll-distance="1"><div class="row block block-col" ng-if="userType==30"><div class="col-xs-12"><h6><a ng-href="/product/add/" class="btn btn-block btn-info btn-md">添加货物</a></h6></div></div><div class="row block block-col" ng-repeat="item in products"><div class="col-xs-12"><h6>{{item.title}}<span class="text-danger" ng-show="item.description">({{item.description}})</span>【{{item.user_name}} {{item.user_mobile}}】</h6></div><div class="col-xs-12"><h6 ng-if="item.suttle!=0">约：{{item.min_price}}元/{{item.unit}}({{item.suttle}}斤)</h6><h6 ng-if="item.suttle==0">约：{{item.min_price}}元/{{item.unit}}</h6></div><div class="col-xs-12"><h6 ng-if="item.status==1">当前状态：<b class="text-danger">有货</b></h6><h6 ng-if="item.status!=1">当前状态：<b class="text-danger">无货</b></h6></div><div class="col-xs-6 text-center"><a class="btn-sm btn btn-success" ng-if="item.status!=1" ng-click="setstatus({{item.id}}, 1, $index)"><span class="glyphicon glyphicon-upload"></span> 有货</a> <a class="btn-sm btn btn-warning" ng-if="item.status==1" ng-click="setstatus({{item.id}}, 0, $index)"><span class="glyphicon glyphicon-download"></span> 无货</a></div><div class="col-xs-6 text-center"><a class="btn-sm btn btn-info" href="/product/add/{{item.id}}"><span class="glyphicon glyphicon-edit"></span> 修改</a></div></div><div class="row block block-col text-center" ng-if="products.length > 0"><h6 class="text-center"><a ng-click="pagination.nextPage()">{{pagination.more}}</a></h6></div></div><div ng-include="\'components/footer/footer.html\'"></div></div>'),t.put("app/modules/product/tips.html",'<script type="text/ng-template" id="myModalContent.html"><div class="modal-header"> <h3 class="modal-title">{{items.headerText}}</h3> </div> <div class="modal-body"> <div class="row form-horizontal"> <div class="col-xs-12 form-group"> <select ng-model="selectCity" ng-change="items.cityChange(selectCity)" class="form-control" ng-options="item.name for item in items.bodyText"> <option value="">请选择所在城市</option> </select> </div> <div class="col-xs-12 form-group"> <select ng-model="selectMarket" class="form-control" ng-options="item.name for item in items.markets"> <option value="">请选择所在市场</option> </select> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="items.ok(selectCity, selectMarket);cancel();" ng-if="items.actionText"> {{items.actionText}} </button> <button class="btn btn-warning" ng-click="cancel()">{{items.closeText}}</button> </div></script>'),t.put("app/modules/property/add.html",'<script type="text/ng-template" id="myModalContent.html"><div class="modal-header"> <h3 class="modal-title">{{items.headerText}}</h3> </div> <div class="modal-body"> <h2 class="text-center">{{items.bodyText}}</h2> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="items.ok();cancel();" ng-if="items.actionText"> {{items.actionText}} </button> <button class="btn btn-warning" ng-click="items.close();cancel()">{{items.closeText}}</button> </div></script><div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>{{title}}</h5></div><form class="row block" role="form" ng-submit="createProperty()"><div class="form-group col-xs-12"><label for="tel" class="col-sm-2 control-label"><h5><b>一级分类</b></h5></label><div class="col-sm-10"><select ng-model="top" class="form-control input-lg" ng-options="topCate.name for topCate in topCategory" ng-change="getSecond()" required=""><option value="">选择一级分类</option></select></div></div><div class="form-group col-xs-12"><label for="tel" class="col-sm-2 control-label"><h5><b>二级分类</b></h5></label><div class="col-sm-10"><select ng-model="second" class="form-control input-lg" ng-options="secondCate.name for secondCate in secondCategory" ng-change="getProduct()"><option value="">选择二级分类</option></select></div></div><div class="form-group col-xs-12"><label for="tel" class="col-sm-2 control-label"><h5><b>产品名称</b></h5></label><div class="col-sm-10"><select ng-model="products" class="form-control input-lg" ng-options="p.name for p in productCategory"><option value="">选择三级分类</option></select></div></div><div class="form-group col-xs-12"><label for="type" class="col-sm-2 control-label"><h5><b>规格类型</b></h5></label><div class="col-sm-10"><select ng-model="propertyShow" class="form-control input-lg" ng-options="m.name for m in properties" ng-change="setProType()"><option value="">选择规格类型</option></select></div></div><div class="form-group col-xs-12"><label for="type" class="col-sm-2 control-label"><h5><b>是否必填</b></h5></label><div class="col-sm-10"><select ng-model="propertyRequired" class="form-control input-lg" ng-options="m.name for m in requires" required=""><option value="">选择一项</option></select></div></div><div class="form-group col-xs-12"><label for="name" class="col-sm-2 control-label"><h5><b>规格名称</b></h5></label><div class="col-sm-10"><input type="text" ng-minlength="2" required="" class="input-lg form-control" name="name" ng-model="saveData.name" id="name" placeholder="请输入规格名称"></div></div><div class="form-group col-xs-12" ng-if="propertyValues.length"><label for="name" class="col-sm-2 control-label"><h5><b>规格选项</b></h5></label><div class="mt-10" ng-repeat="item in propertyValues"><div class="col-xs-4 mt-10"><input type="text" ng-model="item.value" class="input-lg form-control" name="name_value" id="name_value" required="" placeholder="请输入规格选项值"></div><div class="col-xs-5 mt-10"><span class="btn btn-lg {{item.cls}}" ng-click="{{item.clk}}($index)"><span class="glyphicon {{item.icon}}">{{item.name}}</span></span></div></div></div><div class="form-group col-xs-12"><div class="col-sm-offset-2 col-sm-10"><div class="row block-btn"><div class="col-xs-12"><button type="submit" class="btn btn-success btn-lg btn-block">保存</button></div></div><div class="row block-btn"><div class="col-xs-12"><button ng-click="reback()" type="button" class="btn btn-default btn-lg btn-block">取消</button></div></div></div></div></form></div>'),t.put("app/modules/property/edit.html",'<div class="container-fluid" ng-controller="PropertyEditCtrl"><div ng-controller="PropertyAddCtrl"><div ng-include="\'components/subnavbar/subnavbar.html\'" ng-init="pageTitle=\'产品规格录入\'"></div><script type="text/ng-template" id="myModalContent.html"><div class="modal-header"> <h3 class="modal-title">{{items.headerText}}</h3> </div> <div class="modal-body"> <h2 class="text-center">{{items.bodyText}}</h2> </div> <div class="modal-footer"> <button class="btn btn-primary" ng-click="items.ok();cancel();" ng-if="items.actionText"> {{items.actionText}} </button> <button class="btn btn-warning" ng-click="items.close();cancel()">{{items.closeText}}</button> </div></script><form class="row block block-col form-horizontal" role="form" ng-submit="saveProperty()"><div class="form-group col-xs-12"><label for="tel" class="col-sm-2 control-label"><h5><b>一级分类</b></h5></label><div class="col-sm-10"><select ng-model="top" class="form-control input-lg" ng-options="topCate.name for topCate in topCategory" ng-change="getSecond()" required=""><option value="">选择一级分类</option></select></div></div><div class="form-group col-xs-12"><label for="tel" class="col-sm-2 control-label"><h5><b>二级分类</b></h5></label><div class="col-sm-10"><select ng-model="second" class="form-control input-lg" ng-options="secondCate.name for secondCate in secondCategory" ng-change="getProduct()" required=""><option value="">选择二级分类</option></select></div></div><div class="form-group col-xs-12"><label for="tel" class="col-sm-2 control-label"><h5><b>产品名称</b></h5></label><div class="col-sm-10"><select ng-model="products" class="form-control input-lg" ng-options="p.name for p in productCategory" required=""><option value="">选择三级分类</option></select></div></div><div class="form-group col-xs-12"><label for="type" class="col-sm-2 control-label"><h5><b>规格类型</b></h5></label><div class="col-sm-10"><select ng-model="property_show" class="form-control input-lg" ng-options="m.name for m in properties" ng-change="setProType()" required=""><option value="">选择规格类型</option></select></div></div><div class="form-group col-xs-12"><label for="type" class="col-sm-2 control-label"><h5><b>是否必填</b></h5></label><div class="col-sm-10"><select ng-model="property_required" class="form-control input-lg" ng-options="m.name for m in requires" required=""><option value="">选择一项</option></select></div></div><div class="form-group col-xs-12"><label for="name" class="col-sm-2 control-label"><h5><b>规格名称</b></h5></label><div class="col-sm-10"><input type="text" ng-minlength="2" required="" class="input-lg form-control" name="name" ng-model="saveData.name" id="name" placeholder="请输入规格名称"></div></div><div class="form-group col-xs-12" ng-if="property_values.length"><label for="name" class="col-sm-2 control-label"><h5><b>规格选项</b></h5></label><div class="mt-10" ng-repeat="item in property_values"><div class="col-xs-8 mt-10"><input type="text" ng-model="item.value" class="input-lg form-control" name="name_value" id="name_value" required="" placeholder="请输入规格选项值"></div><div class="col-xs-4 mt-10"><span class="btn btn-lg {{item.cls}}" ng-click="{{item.clk}}($index)"><span class="glyphicon {{item.icon}}">{{item.name}}</span></span></div></div></div><div class="form-group col-xs-12"><label for="unit" class="col-sm-2 control-label"><h5><b>规格单位</b></h5></label><div class="col-sm-10"><input type="text" class="input-lg form-control" ng-model="saveData.unit" name="unit" id="unit" placeholder="请输入规格单位"></div></div><div class="form-group col-xs-12"><div class="col-sm-offset-2 col-sm-10"><div class="row block-btn"><div class="col-xs-12"><button type="submit" class="btn btn-success btn-lg btn-block">保存</button></div></div><div class="row block-btn"><div class="col-xs-12"><button type="button" class="btn btn-default btn-lg btn-block">取消</button></div></div></div></div></form></div></div><div ng-include="\'components/footer/footer.html\'"></div>'),t.put("app/modules/property/list.html",'<div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>{{title}}</h5></div><div class="bs-callout"><div class="mt-10"><div class="form-group"><a class="btn-block btn btn-info" ui-sref="home.propertyAdd">添加规格</a></div></div></div><div class="table-responsive" style="margin-top:10px;"><table class="table table-bordered table-striped table-hover"><colgroup><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-3"></colgroup><thead><tr><td class="text-center"><h5>编号</h5></td><td class="text-center"><h5>分类名称</h5></td><td class="text-center"><h5>规格名称</h5></td><td class="text-center"><h5>必填</h5></td><td class="text-center"><h5>状态</h5></td><td class="text-center"><h5>上一次更新时间</h5></td></tr></thead><tbody ng-if="list.length===0"><tr><td colspan="8" class="text-center"><h5>暂无数据</h5></td></tr></tbody><tbody><tr ng-repeat="item in list"><td class="text-center"><h5>{{item.id}}</h5></td><td class="text-center"><h5>{{item.cate_name}}</h5></td><td class="text-center"><h5>{{item.name}}</h5></td><td class="text-center"><h5><span ng-if="item.is_required == 1">必填</span> <span ng-if="item.is_required == 0">选填</span></h5></td><td class="text-center"><h5><span ng-if="item.status == 1">有效</span> <span ng-if="item.status == 0">无效</span></h5></td><td class="text-center"><h5>{{item.updated_time}}</h5></td></tr></tbody></table></div><nav><dachu-pagination conf="paginationConf"></dachu-pagination></nav></div>'),t.put("app/modules/role/create.html",'<div class="container-fluid" ng-controller="RoleCreateCtrl"><div class="width_change" id="row block-title"><div class="col-sm-offset-2 col-sm-10 col-xs-12"><div class="bs-callout bs-callout-danger"><h5>添加角色</h5></div><div class="form-group" ng-show="basic_form.$invalid && basic_form.$dirty && show_error"><div class="col-sm-12"><div class="alert alert-danger"><ul><li ng-show="basic_form.name.$error.required">请输入角色名称！</li><li ng-show="basic_form.dataset.$error.required">请选择数据集权限！</li></ul></div></div></div><div class="block mt-10 ml-default"><form class="form-horizontal showcase-form" role="form" name="basic_form" id="basic_form"><div class="form-group"><label class="col-sm-2 control-label">角色名称：</label><div class="col-sm-10"><input type="text" name="name" ng-model="data.name" class="form-control" placeholder="请输入角色名称" required=""></div></div><div class="form-group"><label class="col-sm-2 control-label">数据集权限：</label> <label class="radio-inline"><input type="radio" name="dataset" ng-model="data.dataset" value="1" required=""> 个人</label> <label class="radio-inline"><input type="radio" name="dataset" ng-model="data.dataset" value="2" required=""> 部门</label> <label class="radio-inline"><input type="radio" name="dataset" ng-model="data.dataset" value="3" required=""> 全部</label></div><div class="form-group"><label class="col-sm-2 control-label">操作权限：</label><div class="col-sm-10"><div ng-repeat="item in list"><label><input type="checkbox" ng-model="item.checked" ng-change="toggle($index);"> {{item.pre_name}}</label></div></div></div><div class="form-group"><button class="btn btn-info btn-lg col-sm-3 col-sm-offset-1" ng-click="create();">提交</button> <button class="btn btn-warning btn-lg col-sm-3 col-sm-offset-1" ng-click="reset()">重置</button></div></form></div></div></div></div>'),t.put("app/modules/role/edit.html",'<div class="container-fluid" ng-controller="RoleEditCtrl"><div class="width_change" id="row block-title"><div class="col-sm-offset-2 col-sm-10 col-xs-12"><div class="bs-callout bs-callout-danger"><h5>修改角色</h5></div><div class="form-group" ng-show="basic_form.$invalid && basic_form.$dirty && show_error"><div class="col-sm-12"><div class="alert alert-danger"><ul><li ng-show="basic_form.name.$error.required">请输入角色名称！</li><li ng-show="basic_form.dataset.$error.required">请选择数据集权限！</li></ul></div></div></div><div class="block mt-10 ml-default"><form class="form-horizontal showcase-form" role="form" name="basic_form" id="basic_form"><div class="form-group"><label class="col-sm-2 control-label">角色名称：</label><div class="col-sm-10"><input type="text" name="name" ng-model="data.name" class="form-control" placeholder="请输入角色名称" required=""></div></div><div class="form-group"><label class="col-sm-2 control-label">数据集权限：</label> <label class="radio-inline"><input type="radio" name="dataset" ng-model="data.dataset" value="1" required=""> 个人</label> <label class="radio-inline"><input type="radio" name="dataset" ng-model="data.dataset" value="2" required=""> 部门</label> <label class="radio-inline"><input type="radio" name="dataset" ng-model="data.dataset" value="3" required=""> 全部</label></div><div class="form-group"><label class="col-sm-2 control-label">操作权限：</label><div class="col-sm-10"><div ng-repeat="item in list"><label><input type="checkbox" ng-model="item.checked" ng-change="toggle($index);"> {{item.pre_name}}</label></div></div></div><div class="form-group"><button class="btn btn-info btn-lg col-sm-3 col-sm-offset-1" ng-click="edit();">提交</button> <button class="btn btn-warning btn-lg col-sm-3 col-sm-offset-1" ng-click="reset()">重置</button></div></form></div></div></div></div>'),t.put("app/modules/role/list.html",'<div class="container-fluid" ng-controller="RoleListCtrl"><div class="width_change" id="row block-title"><div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>角色列表</h5></div><div class="bs-callout"><div class="block mt-10 ml-default"><form class="form-inline" role="form"><div class="form-group"><div class="input-group"><input type="text" ng-model="searchValue" class="form-control" placeholder="请输入搜索关键词"></div></div><div class="form-group"><button class="btn-block btn btn-info" ng-click="search();">筛选</button></div><div class="form-group"><button class="btn btn-block btn-warning" ng-click="reset()">重置</button></div><div class="form-group"><a class="btn btn-primary btn-sm" href="/role/create">添加角色</a></div></form></div></div><div style="margin-top:10px;" class="table-responsive"><table class="table table-bordered table-striped table-hover"><colgroup><col class="col-xs-1"><col class="col-xs-5"><col class="col-xs-6"></colgroup><thead><tr><td class="text-center"><h5>编号</h5></td><td class="text-center"><h5>角色名称</h5></td><td class="text-center"><h5>操作</h5></td></tr></thead><tbody ng-if="list.length===0"><tr><td colspan="3" class="text-center"><h5>暂无数据</h5></td></tr></tbody><tbody ng-if="list.length>0"><tr ng-repeat="item in list"><td class="text-center"><h5>{{item.id}}</h5></td><td class="text-center"><h5>{{item.name}}</h5></td><td class="text-center"><h5><a class="btn btn-info btn-sm" href="/role/edit/{{item.id}}">编辑</a> <a class="btn btn-danger btn-sm" ng-click="delete($index)">删除</a></h5></td></tr></tbody></table></div><nav><dachu-pagination conf="paginationConf"></dachu-pagination></nav></div></div></div>'),t.put("app/modules/user/create.html",'<div class="container-fluid" ng-controller="UserCreateCtrl"><div class="width_change" id="row block-title"><div class="col-sm-offset-2 col-sm-10 col-xs-12"><div class="bs-callout bs-callout-danger"><h5>添加用户</h5></div><div class="form-group" ng-show="basic_form.$invalid && basic_form.$dirty && show_error"><div class="col-sm-12"><div class="alert alert-danger"><ul><li ng-show="basic_form.role.$error.required">请选择用户角色！</li><li ng-show="basic_form.mobile.$error.required">请输入手机号码！</li><li ng-show="basic_form.mobile.$error.pattern">手机号码格式不对！</li><li ng-show="basic_form.name.$error.required">请输入用户姓名！</li></ul></div></div></div><div class="block mt-10 ml-default"><form class="form-horizontal showcase-form" role="form" id="basic_form" name="basic_form"><div class="form-group"><label class="col-sm-2 control-label">所属部门：</label><div class="col-sm-10"><select ng-model="data.dept" class="form-control" name="dept" ng-options="m.pre_name for m in dept_list"><option value="">请选择用户所属部门</option></select></div></div><div class="form-group"><label class="col-sm-2 control-label">用户角色：</label><div class="col-sm-10"><select ng-model="data.role" class="form-control" name="role" ng-options="m.name for m in role_list" required=""><option value="">请选择用户角色类型</option></select></div></div><div class="form-group"><label class="col-sm-2 control-label">手机号：</label><div class="col-sm-10"><input type="text" ng-model="data.mobile" name="mobile" class="form-control" placeholder="请输入手机号码" required="" ng-pattern="/^[1-9]{1}[0-9]{10}$/"></div></div><div class="form-group"><label class="col-sm-2 control-label">姓名：</label><div class="col-sm-10"><input type="text" name="name" ng-model="data.name" class="form-control" placeholder="请输入姓名" required=""></div></div><div class="form-group"><label class="col-sm-2 control-label">所在地：</label><div class="col-sm-10"><select ng-model="data.province" class="form-control" ng-options="m.name for m in province_list" ng-change="get_market(\'province\');"><option value="">选择省份</option></select></div></div><div class="form-group"><label class="col-sm-2 control-label">详细地址：</label><div class="col-sm-10"><input type="text" ng-model="data.detail_address" class="form-control" placeholder="请输入详细地址"></div></div><div class="form-group"><button class="btn btn-info btn-lg col-sm-3 col-sm-offset-1" ng-click="create();">提交</button> <button class="btn btn-warning btn-lg col-sm-3 col-sm-offset-1" ng-click="reset()">重置</button></div></form></div></div></div></div>'),t.put("app/modules/user/edit.html",'<div class="container-fluid" ng-controller="EditUserCtrl"><div ng-include="\'components/navbar/navbar.html\'"></div><div class="width_change" id="row block-title"><div ng-include="\'components/navbar/navsidebar.html\'"></div><div class="col-sm-offset-2 col-sm-10 col-xs-12"><div class="bs-callout bs-callout-danger"><h5>编辑用户</h5></div><div class="form-group" ng-show="basic_form.$invalid && basic_form.$dirty && show_error"><div class="col-sm-12"><div class="alert alert-danger"><ul><li ng-show="basic_form.role.$error.required">请选择用户角色！</li><li ng-show="basic_form.mobile.$error.required">请输入手机号码！</li><li ng-show="basic_form.mobile.$error.pattern">手机号码格式不对！</li><li ng-show="basic_form.name.$error.required">请输入用户姓名！</li></ul></div></div></div><div class="block mt-10 ml-default"><form class="form-horizontal showcase-form" role="form" id="basic_form" name="basic_form"><div class="form-group"><label class="col-sm-2 control-label">所属部门：</label><div class="col-sm-10"><select ng-model="data.dept" class="form-control" name="dept" ng-options="m.pre_name for m in dept_list"><option value="">请选择用户所属部门</option></select></div></div><div class="form-group"><label class="col-sm-2 control-label">用户角色：</label><div class="col-sm-10"><select ng-model="data.role" class="form-control" name="role" ng-options="m.role_name for m in role_list" required=""><option value="">请选择用户角色类型</option></select></div></div><div class="form-group"><label class="col-sm-2 control-label">手机号：</label><div class="col-sm-10"><input type="text" ng-model="data.mobile" name="mobile" class="form-control" placeholder="请输入手机号码" required="" ng-pattern="/^[1-9]{1}[0-9]{10}$/"></div></div><div class="form-group"><label class="col-sm-2 control-label">姓名：</label><div class="col-sm-10"><input type="text" name="name" ng-model="data.name" class="form-control" placeholder="请输入姓名" required=""></div></div><div class="form-group"><label class="col-sm-2 control-label">所在地：</label><div class="col-sm-10"><select ng-model="data.province" class="form-control" ng-options="m.name for m in province_list" ng-change="get_market(\'province\');"><option value="">选择省份</option></select></div></div><div class="form-group"><label class="col-sm-2 control-label">详细地址：</label><div class="col-sm-10"><input type="text" ng-model="data.detail_address" class="form-control" placeholder="请输入详细地址"></div></div><div class="form-group"><button class="btn btn-info btn-lg col-sm-3 col-sm-offset-1" ng-click="edit();">提交</button> <button class="btn btn-warning btn-lg col-sm-3 col-sm-offset-1" ng-click="reset()">重置</button></div></form></div></div></div></div>'),t.put("app/modules/user/list.html",'<div class="container-fluid" ng-controller="UserListCtrl"><div class="width_change" id="row block-title"><div class="col-xs-offset-2"><div class="bs-callout bs-callout-danger"><h5>用户列表</h5></div><div class="bs-callout"><div class="block mt-10 ml-default"><form class="form-inline" role="form"><div class="form-group"><select ng-model="role" class="form-control" name="role" ng-options="m.name for m in role_list"><option value="">请选择角色类型</option></select></div><div class="form-group"><div class="input-group"><input type="text" ng-model="searchValue" class="form-control" placeholder="请输入搜索关键词"><div class="input-group-addon">起始时间</div><input type="text" is-open="opened" datepicker-popup="yyyy-MM-dd" ng-click="open($event)" datepicker-options="dateOptions" class="form-control" ng-model="startTime" id="startTime" placeholder="点击获取时间"></div></div><div class="form-group"><div class="input-group"><div class="input-group-addon">截止时间</div><input type="text" ng-model="endTime" class="form-control" datepicker-popup="yyyy-MM-dd" datepicker-options="endDateOptions" ng-click="endOpen($event)" is-open="endOpened" id="endTime" placeholder="点击获取时间"></div></div><div class="form-group"><button class="btn-block btn btn-info" ng-click="search();">筛选</button></div><div class="form-group"><button class="btn btn-block btn-warning" ng-click="reset()">重置</button></div><div class="form-group"><button class="btn btn-block btn-primary" ng-click="exportData()">导出数据</button></div><div class="form-group"><a class="btn btn-primary btn-sm" href="/user/create">添加用户</a></div></form></div></div><div style="margin-top:10px;" class="table-responsive"><table class="table table-bordered table-striped table-hover"><colgroup><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-1"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-2"><col class="col-xs-3"></colgroup><thead><tr><td class="text-center"><h5>编号</h5></td><td class="text-center"><h5>姓名</h5></td><td class="text-center"><h5>角色</h5></td><td class="text-center"><h5>手机号</h5></td><td class="text-center"><h5>注册时间</h5></td><td class="text-center"><h5>操作</h5></td></tr></thead><tbody ng-if="list.length===0"><tr><td colspan="8" class="text-center"><h5>暂无数据</h5></td></tr></tbody><tbody ng-if="list.length>0"><tr ng-repeat="item in list"><td class="text-center"><h5>{{item.id}}</h5></td><td class="text-center"><h5>{{item.name}}</h5></td><td class="text-center"><h5>{{item.role}}</h5></td><td class="text-center"><h5>{{item.mobile}}</h5></td><td class="text-center"><h5>{{item.created_time}}</h5></td><td class="text-center"><h5><a class="btn btn-info btn-sm" href="/user/edit/{{item.id}}">编辑</a> <a class="btn btn-danger btn-sm" ng-click="delete($index);">删除</a></h5></td></tr></tbody></table></div><nav><dachu-pagination conf="paginationConf"></dachu-pagination></nav></div></div></div>'),t.put("app/modules/user/login.html",'<div class="container-fluid"><div ng-include="\'components/navbar/navbar.html\'" ng-init="isLogin=\'false\'"></div><div class="row login_b show-grid"><div class="col-md-12 col-xs-12"><div class="clogin col-md-4 col-md-offset-4"><h3 class="clogin_h3" ng-controller="TopCtrl">{{title}}</h3><p ng-show="error" class="{{error.cls}}">{{error.msg}}</p><form class="row block block-col form-horizontal" name="loginForm" role="form" novalidate="" ng-submit="login()"><div class="form-group c_loginb col-xs-12"><div class="col-sm-12"><input type="tel" required="" class="input-lg form-control" ng-model="user.mobile" ng-pattern="/^1[3|5|6|7|8|9]\\d{9}$/" ng-minlength="11" ng-maxlength="11" name="mobile" id="tel" placeholder="请输入手机号"><div class="col-xs-12 block-col  label label-danger" ng-show="(loginForm.submitted || loginForm.mobile.$dirty)  && loginForm.mobile.$invalid"><small ng-show="loginForm.mobile.$error.minlength">请输入正确的手机号</small> <small ng-show="!loginForm.mobile.$error.minlength && loginForm.mobile.$error.pattern">手机号格式不正确</small> <small ng-show="loginForm.mobile.$error.required">手机号必填</small></div></div></div><div class="form-group c_loginb col-xs-12"><div class="col-sm-12"><input type="password" required="" class="input-lg form-control" ng-minlength="6" ng-model="user.password" name="password" id="password" placeholder="请输入密码"><div class="col-xs-12  block-col label label-danger" ng-show="loginForm.submitted  && loginForm.password.$invalid"><small ng-show="loginForm.password.$error.minlength">密码至少6位</small> <small ng-show="loginForm.password.$error.required">密码必填</small></div></div></div><div class="form-group col-xs-12"><div class=" col-sm-12"><button type="submit" class="btn btn-success btn-block">登录</button></div></div></form></div></div></div></div>')
}]);